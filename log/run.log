# Logfile created on 2014-07-03 15:04:28 -0400 by logger.rb/1.2.8
I, [2014-07-03T15:04:28.098580 #7464]  INFO -- : Started running (KeepBusy): Log file: /Users/joshthedudeoflife/re_prefs_svc/log/run.log
D, [2014-07-03T15:04:28.290151 #7464] DEBUG -- : Query: #<Mysql2::Result:0x007f8e5bba84c0> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='test_clien' LIMIT 1
I, [2014-07-03T15:04:28.290694 #7464]  INFO -- : SQL Connection error unknown: 1292 / Incorrect datetime value: '2014-07-03 15:04:28 -0400' for column 'created_at' at row 1 == #<Mysql2::Error: Incorrect datetime value: '2014-07-03 15:04:28 -0400' for column 'created_at' at row 1>
D, [2014-07-03T15:04:28.292804 #7464] DEBUG -- : Query: #<Mysql2::Result:0x007f8e5bc11588> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='test_clien' LIMIT 1
I, [2014-07-03T15:04:28.293211 #7464]  INFO -- : SQL Connection error unknown: 1292 / Incorrect datetime value: '2014-07-03 15:04:28 -0400' for column 'created_at' at row 1 == #<Mysql2::Error: Incorrect datetime value: '2014-07-03 15:04:28 -0400' for column 'created_at' at row 1>
D, [2014-07-03T15:04:28.293939 #7464] DEBUG -- : Query:  && 0 for SQL:
DELETE FROM clients WHERE  name = 'test_clien'
D, [2014-07-03T15:04:28.294245 #7464] DEBUG -- : Query: #<Mysql2::Result:0x007f8e5bc23300> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='test_client' LIMIT 1
D, [2014-07-03T15:04:28.294781 #7464] DEBUG -- : Query: #<Mysql2::Result:0x007f8e5bc28990> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='test_client' LIMIT 1
I, [2014-07-03T15:04:28.295093 #7464]  INFO -- : SQL Connection error unknown: 1292 / Incorrect datetime value: '2014-07-03 15:04:28 -0400' for column 'created_at' at row 1 == #<Mysql2::Error: Incorrect datetime value: '2014-07-03 15:04:28 -0400' for column 'created_at' at row 1>
I, [2014-07-03T15:13:02.109721 #7507]  INFO -- : Started running (KeepBusy): Log file: /Users/joshthedudeoflife/re_prefs_svc/log/run.log
I, [2014-07-03T15:13:04.573619 #7509]  INFO -- : Started running (KeepBusy): Log file: /Users/joshthedudeoflife/re_prefs_svc/log/run.log
D, [2014-07-03T15:13:04.751391 #7509] DEBUG -- : Query: #<Mysql2::Result:0x007fd3fb4a4a30> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='test_clien' LIMIT 1
I, [2014-07-03T15:13:04.751894 #7509]  INFO -- : SQL Connection error unknown: 1292 / Incorrect datetime value: '2014-07-03 15:13:04 -0400' for column 'created_at' at row 1 == #<Mysql2::Error: Incorrect datetime value: '2014-07-03 15:13:04 -0400' for column 'created_at' at row 1>
D, [2014-07-03T15:13:04.753426 #7509] DEBUG -- : Query: #<Mysql2::Result:0x007fd3fb50d8a0> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='test_clien' LIMIT 1
I, [2014-07-03T15:13:04.753769 #7509]  INFO -- : SQL Connection error unknown: 1292 / Incorrect datetime value: '2014-07-03 15:13:04 -0400' for column 'created_at' at row 1 == #<Mysql2::Error: Incorrect datetime value: '2014-07-03 15:13:04 -0400' for column 'created_at' at row 1>
D, [2014-07-03T15:13:04.754522 #7509] DEBUG -- : Query:  && 0 for SQL:
DELETE FROM clients WHERE  name = 'test_clien'
D, [2014-07-03T15:13:04.754815 #7509] DEBUG -- : Query: #<Mysql2::Result:0x007fd3fb51f668> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='test_client' LIMIT 1
I, [2014-07-03T15:13:28.557617 #7532]  INFO -- : Started running (KeepBusy): Log file: /Users/joshthedudeoflife/re_prefs_svc/log/run.log
I, [2014-07-03T15:13:31.205111 #7533]  INFO -- : Started running (KeepBusy): Log file: /Users/joshthedudeoflife/re_prefs_svc/log/run.log
D, [2014-07-03T15:13:31.381088 #7533] DEBUG -- : Query: #<Mysql2::Result:0x007f9a6a5493e8> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='test_clien' LIMIT 1
I, [2014-07-03T15:13:31.381570 #7533]  INFO -- : SQL Connection error unknown: 1292 / Incorrect datetime value: '2014-07-03 15:13:31 -0400' for column 'created_at' at row 1 == #<Mysql2::Error: Incorrect datetime value: '2014-07-03 15:13:31 -0400' for column 'created_at' at row 1>
D, [2014-07-03T15:13:31.383144 #7533] DEBUG -- : Query: #<Mysql2::Result:0x007f9a6a5b1970> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='test_clien' LIMIT 1
I, [2014-07-03T15:13:31.383519 #7533]  INFO -- : SQL Connection error unknown: 1292 / Incorrect datetime value: '2014-07-03 15:13:31 -0400' for column 'created_at' at row 1 == #<Mysql2::Error: Incorrect datetime value: '2014-07-03 15:13:31 -0400' for column 'created_at' at row 1>
D, [2014-07-03T15:13:31.384297 #7533] DEBUG -- : Query:  && 0 for SQL:
DELETE FROM clients WHERE  name = 'test_clien'
D, [2014-07-03T15:13:31.384633 #7533] DEBUG -- : Query: #<Mysql2::Result:0x007f9a6a5b8568> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='test_client' LIMIT 1
I, [2014-07-03T15:14:04.929075 #7556]  INFO -- : Started running (KeepBusy): Log file: /Users/joshthedudeoflife/re_prefs_svc/log/run.log
I, [2014-07-03T15:14:08.677070 #7557]  INFO -- : Started running (KeepBusy): Log file: /Users/joshthedudeoflife/re_prefs_svc/log/run.log
D, [2014-07-03T15:14:08.855998 #7557] DEBUG -- : Query: #<Mysql2::Result:0x007faf7b3e0c38> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='test_clien' LIMIT 1
I, [2014-07-03T15:14:08.856543 #7557]  INFO -- : SQL Connection error unknown: 1292 / Incorrect datetime value: '2014-07-03 15:14:08 -0400' for column 'created_at' at row 1 == #<Mysql2::Error: Incorrect datetime value: '2014-07-03 15:14:08 -0400' for column 'created_at' at row 1>
D, [2014-07-03T15:14:08.858071 #7557] DEBUG -- : Query: #<Mysql2::Result:0x007faf7b4498c8> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='test_clien' LIMIT 1
I, [2014-07-03T15:14:08.858441 #7557]  INFO -- : SQL Connection error unknown: 1292 / Incorrect datetime value: '2014-07-03 15:14:08 -0400' for column 'created_at' at row 1 == #<Mysql2::Error: Incorrect datetime value: '2014-07-03 15:14:08 -0400' for column 'created_at' at row 1>
D, [2014-07-03T15:14:08.859174 #7557] DEBUG -- : Query:  && 0 for SQL:
DELETE FROM clients WHERE  name = 'test_clien'
D, [2014-07-03T15:14:08.859502 #7557] DEBUG -- : Query: #<Mysql2::Result:0x007faf7b45b668> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='test_client' LIMIT 1
I, [2014-07-03T15:15:23.900908 #7581]  INFO -- : Started running (KeepBusy): Log file: /Users/joshthedudeoflife/re_prefs_svc/log/run.log
D, [2014-07-03T15:15:24.078757 #7581] DEBUG -- : Query: #<Mysql2::Result:0x007fd9faa8cb78> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='test_clien' LIMIT 1
I, [2014-07-03T15:15:24.079231 #7581]  INFO -- : SQL Connection error unknown: 1292 / Incorrect datetime value: '2014-07-03 15:15:24 -0400' for column 'created_at' at row 1 == #<Mysql2::Error: Incorrect datetime value: '2014-07-03 15:15:24 -0400' for column 'created_at' at row 1>
D, [2014-07-03T15:15:24.080957 #7581] DEBUG -- : Query: #<Mysql2::Result:0x007fd9faaf58a8> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='test_clien' LIMIT 1
I, [2014-07-03T15:15:24.081377 #7581]  INFO -- : SQL Connection error unknown: 1292 / Incorrect datetime value: '2014-07-03 15:15:24 -0400' for column 'created_at' at row 1 == #<Mysql2::Error: Incorrect datetime value: '2014-07-03 15:15:24 -0400' for column 'created_at' at row 1>
D, [2014-07-03T15:15:24.082113 #7581] DEBUG -- : Query:  && 0 for SQL:
DELETE FROM clients WHERE  name = 'test_clien'
D, [2014-07-03T15:15:24.082416 #7581] DEBUG -- : Query: #<Mysql2::Result:0x007fd9fab076c0> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='test_client' LIMIT 1
I, [2014-07-03T15:15:29.702235 #7592]  INFO -- : Started running (KeepBusy): Log file: /Users/joshthedudeoflife/re_prefs_svc/log/run.log
I, [2014-07-03T15:15:35.845467 #7593]  INFO -- : Started running (KeepBusy): Log file: /Users/joshthedudeoflife/re_prefs_svc/log/run.log
D, [2014-07-03T15:15:36.026382 #7593] DEBUG -- : Query: #<Mysql2::Result:0x007f93a3210b90> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='test_clien' LIMIT 1
I, [2014-07-03T15:15:36.026912 #7593]  INFO -- : SQL Connection error unknown: 1292 / Incorrect datetime value: '2014-07-03 15:15:36 -0400' for column 'created_at' at row 1 == #<Mysql2::Error: Incorrect datetime value: '2014-07-03 15:15:36 -0400' for column 'created_at' at row 1>
D, [2014-07-03T15:15:36.028523 #7593] DEBUG -- : Query: #<Mysql2::Result:0x007f93a3279960> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='test_clien' LIMIT 1
I, [2014-07-03T15:15:36.028888 #7593]  INFO -- : SQL Connection error unknown: 1292 / Incorrect datetime value: '2014-07-03 15:15:36 -0400' for column 'created_at' at row 1 == #<Mysql2::Error: Incorrect datetime value: '2014-07-03 15:15:36 -0400' for column 'created_at' at row 1>
D, [2014-07-03T15:15:36.029632 #7593] DEBUG -- : Query:  && 0 for SQL:
DELETE FROM clients WHERE  name = 'test_clien'
D, [2014-07-03T15:15:36.029984 #7593] DEBUG -- : Query: #<Mysql2::Result:0x007f93a328b7a0> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='test_client' LIMIT 1
I, [2014-07-03T15:16:43.084262 #7616]  INFO -- : Started running (KeepBusy): Log file: /Users/joshthedudeoflife/re_prefs_svc/log/run.log
I, [2014-07-03T15:21:31.276101 #7665]  INFO -- : Started running (KeepBusy): Log file: /Users/joshthedudeoflife/re_prefs_svc/log/run.log
I, [2014-07-03T15:21:34.814549 #7666]  INFO -- : Started running (KeepBusy): Log file: /Users/joshthedudeoflife/re_prefs_svc/log/run.log
D, [2014-07-03T15:21:34.996091 #7666] DEBUG -- : Query: #<Mysql2::Result:0x007fe973c6e300> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='test_clien' LIMIT 1
I, [2014-07-03T15:21:34.996563 #7666]  INFO -- : SQL Connection error unknown: 1292 / Incorrect datetime value: '2014-07-03 15:21:34 -0400' for column 'created_at' at row 1 == #<Mysql2::Error: Incorrect datetime value: '2014-07-03 15:21:34 -0400' for column 'created_at' at row 1>
D, [2014-07-03T15:21:34.998180 #7666] DEBUG -- : Query: #<Mysql2::Result:0x007fe973ccc5e0> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='test_clien' LIMIT 1
I, [2014-07-03T15:21:34.998564 #7666]  INFO -- : SQL Connection error unknown: 1292 / Incorrect datetime value: '2014-07-03 15:21:34 -0400' for column 'created_at' at row 1 == #<Mysql2::Error: Incorrect datetime value: '2014-07-03 15:21:34 -0400' for column 'created_at' at row 1>
D, [2014-07-03T15:21:34.999321 #7666] DEBUG -- : Query:  && 0 for SQL:
DELETE FROM clients WHERE  name = 'test_clien'
D, [2014-07-03T15:21:34.999615 #7666] DEBUG -- : Query: #<Mysql2::Result:0x007fe973cef450> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='test_client' LIMIT 1
D, [2014-07-03T15:21:35.000207 #7666] DEBUG -- : Query: #<Mysql2::Result:0x007fe973cf7c90> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='test_admin' LIMIT 1
I, [2014-07-03T15:21:35.000519 #7666]  INFO -- : SQL Connection error unknown: 1292 / Incorrect datetime value: '2014-07-03 15:21:35 -0400' for column 'created_at' at row 1 == #<Mysql2::Error: Incorrect datetime value: '2014-07-03 15:21:35 -0400' for column 'created_at' at row 1>
I, [2014-07-03T15:21:35.029550 #7665]  INFO -- : Request: controller:admin action:status method:get
I, [2014-07-03T15:21:35.030073 #7665]  INFO -- : Parameters: {}
I, [2014-07-03T15:21:35.030148 #7665]  INFO -- : status_get
D, [2014-07-03T15:21:35.042845 #7665] DEBUG -- : Query: #<Mysql2::Result:0x007fa0b8838c80> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='test_admin' LIMIT 1
I, [2014-07-03T15:21:35.042982 #7665]  INFO -- : Response: 401 text/plain client not known
D, [2014-07-03T15:21:35.048360 #7666] DEBUG -- : Query: #<Mysql2::Result:0x007fe9743f5e20> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='test_client' LIMIT 1
I, [2014-07-03T15:21:35.048772 #7666]  INFO -- : SQL Connection error unknown: 1292 / Incorrect datetime value: '2014-07-03 15:21:35 -0400' for column 'created_at' at row 1 == #<Mysql2::Error: Incorrect datetime value: '2014-07-03 15:21:35 -0400' for column 'created_at' at row 1>
I, [2014-07-03T15:21:35.051937 #7665]  INFO -- : Request: controller:notification_preferences action:create method:post
I, [2014-07-03T15:21:35.052058 #7665]  INFO -- : Parameters: {:data=>"{\"assetclass\":[\"A\",\"B\",\"C\",\"D\"],\"states\":[\"Alabama\",\"Alaska\",\"Arizona\",\"Arkansas\",\"California\",\"Colorado\",\"Connecticut\",\"Delaware\",\"District Of Columbia\",\"Florida\",\"Georgia\",\"Hawaii\",\"Idaho\",\"Illinois\",\"Indiana\",\"Iowa\",\"Kansas\",\"Kentucky\",\"Louisiana\",\"Maine\",\"Maryland\",\"Massachusetts\",\"Michigan\",\"Minnesota\",\"Mississippi\",\"Missouri\",\"Montana\",\"Nebraska\",\"Nevada\",\"New Hampshire\",\"New Jersey\",\"New Mexico\",\"New York\",\"North Carolina\",\"North Dakota\",\"Ohio\",\"Oklahoma\",\"Oregon\",\"Pennsylvania\",\"Rhode Island\",\"South Carolina\",\"South Dakota\",\"Tennessee\",\"Texas\",\"Utah\",\"Vermont\",\"Virginia\",\"Washington\",\"West Virginia\",\"Wisconsin\",\"Wyoming\"],\"investments\":{\"minimum\":50001,\"maximum\":60000}}"}
I, [2014-07-03T15:21:35.052143 #7665]  INFO -- : create_post
D, [2014-07-03T15:21:35.052632 #7665] DEBUG -- : Query: #<Mysql2::Result:0x007fa0b8878da8> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='test_client' LIMIT 1
I, [2014-07-03T15:21:35.052702 #7665]  INFO -- : Response: 401 text/plain client not known
I, [2014-07-03T15:21:35.057011 #7665]  INFO -- : Request: controller:notification_preferences action:update method:put
I, [2014-07-03T15:21:35.057133 #7665]  INFO -- : Parameters: {:id=>"abc", :data=>"{\"assetclass\":[\"A\",\"B\",\"C\",\"D\"],\"states\":[\"Alabama\",\"Alaska\",\"Arizona\",\"Arkansas\",\"California\",\"Colorado\",\"Connecticut\",\"Delaware\",\"District Of Columbia\",\"Florida\",\"Georgia\",\"Hawaii\",\"Idaho\",\"Illinois\",\"Indiana\",\"Iowa\",\"Kansas\",\"Kentucky\",\"Louisiana\",\"Maine\",\"Maryland\",\"Massachusetts\",\"Michigan\",\"Minnesota\",\"Mississippi\",\"Missouri\",\"Montana\",\"Nebraska\",\"Nevada\",\"New Hampshire\",\"New Jersey\",\"New Mexico\",\"New York\",\"North Carolina\",\"North Dakota\",\"Ohio\",\"Oklahoma\",\"Oregon\",\"Pennsylvania\",\"Rhode Island\",\"South Carolina\",\"South Dakota\",\"Tennessee\",\"Texas\",\"Utah\",\"Vermont\",\"Virginia\",\"Washington\",\"West Virginia\",\"Wisconsin\",\"Wyoming\"],\"investments\":{\"minimum\":50001,\"maximum\":60000}}"}
I, [2014-07-03T15:21:35.057183 #7665]  INFO -- : update_put
D, [2014-07-03T15:21:35.057676 #7665] DEBUG -- : Query: #<Mysql2::Result:0x007fa0b88a12f8> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='test_client' LIMIT 1
I, [2014-07-03T15:21:35.057744 #7665]  INFO -- : Response: 401 text/plain client not known
I, [2014-07-03T15:21:35.060764 #7665]  INFO -- : Request: controller:notification_preferences action:get method:get
I, [2014-07-03T15:21:35.060850 #7665]  INFO -- : Parameters: {:id=>"abc"}
I, [2014-07-03T15:21:35.060901 #7665]  INFO -- : get_get
D, [2014-07-03T15:21:35.061447 #7665] DEBUG -- : Query: #<Mysql2::Result:0x007fa0b901bee8> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='test_client' LIMIT 1
I, [2014-07-03T15:21:35.061537 #7665]  INFO -- : Response: 401 text/plain client not known
I, [2014-07-03T15:27:09.240524 #7699]  INFO -- : Started running (KeepBusy): Log file: /Users/joshthedudeoflife/re_prefs_svc/log/run.log
I, [2014-07-03T15:27:35.091303 #7699]  INFO -- : Request: controller:notification_preferences action:create method:post
I, [2014-07-03T15:27:35.091908 #7699]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :data=>"{\"assetclass\":[\"C\"],\"states\":[\"Arizona\",\"Indiana\"],\"investments\":{\"minimum\":\"50001\",\"maximum\":\"60000\"}}"}
I, [2014-07-03T15:27:35.091967 #7699]  INFO -- : create_post
D, [2014-07-03T15:27:35.104546 #7699] DEBUG -- : Query: #<Mysql2::Result:0x007f8eaa8404a0> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T15:27:35.105214 #7699] DEBUG -- : Query: #<Mysql2::Result:0x007f8eaa869300> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='528deff735a703680981452da93c4dbba2d81f7abd1f76d4a6fc377f6d0b3229 re_portal_prefs_1 1404415655052' LIMIT 1
I, [2014-07-03T15:27:35.105531 #7699]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T15:27:35.105619 #7699]  INFO -- : HELLLLLLLLOOOOOO
I, [2014-07-03T15:27:35.105710 #7699]  INFO -- : ES_INDEX CHECK
I, [2014-07-03T15:27:35.141538 #7699]  INFO -- : Response: 200 text/json {:data=>"{\"assetclass\":[\"C\"],\"states\":[\"Arizona\",\"Indiana\"],\"investments\":{\"minimum\":\"50001\",\"maximum\":\"60000\"}}", :id=>"0DkvQ4w6TCOaqHGRJyEOqg"}
I, [2014-07-03T15:27:35.803316 #7699]  INFO -- : Request: controller:notification_preferences action:get method:get
I, [2014-07-03T15:27:35.803421 #7699]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg"}
I, [2014-07-03T15:27:35.803474 #7699]  INFO -- : get_get
D, [2014-07-03T15:27:35.804542 #7699] DEBUG -- : Query: #<Mysql2::Result:0x007f8eab073398> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T15:27:35.805309 #7699] DEBUG -- : Query: #<Mysql2::Result:0x007f8eab070e18> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='1e8f128127be05da5ad378fa9a60ee9eeb13c966133ce7df56a8b3a41fc5fcb2 re_portal_prefs_1 1404415655800' LIMIT 1
I, [2014-07-03T15:27:35.805649 #7699]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T15:27:35.805746 #7699]  INFO -- : this is line 31 {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :client=>"re_portal_prefs_1", :ottoken=>"1e8f128127be05da5ad378fa9a60ee9eeb13c966133ce7df56a8b3a41fc5fcb2 re_portal_prefs_1 1404415655800", :action=>"get", :controller=>"notification_preferences"}
I, [2014-07-03T15:27:35.810792 #7699]  INFO -- : Response: 200 text/json {:data=>#<Hashie::Mash assetclass=["C"] investments=#<Hashie::Mash maximum="60000" minimum="50001"> states=["Arizona", "Indiana"]>}
I, [2014-07-03T15:35:46.401342 #7699]  INFO -- : Request: controller:notification_preferences action:get method:get
I, [2014-07-03T15:35:46.401452 #7699]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg"}
I, [2014-07-03T15:35:46.401681 #7699]  INFO -- : get_get
D, [2014-07-03T15:35:46.402272 #7699] DEBUG -- : Query: #<Mysql2::Result:0x007f8eab0a0f00> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T15:35:46.402737 #7699] DEBUG -- : Query: #<Mysql2::Result:0x007f8eab0aa6b8> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='6c3e71a05604f18cb5962e3820aa0d97af9356264f41878978caa52db655d92c re_portal_prefs_1 1404416146396' LIMIT 1
I, [2014-07-03T15:35:46.403047 #7699]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T15:35:46.403133 #7699]  INFO -- : this is line 31 {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :client=>"re_portal_prefs_1", :ottoken=>"6c3e71a05604f18cb5962e3820aa0d97af9356264f41878978caa52db655d92c re_portal_prefs_1 1404416146396", :action=>"get", :controller=>"notification_preferences"}
I, [2014-07-03T15:35:46.408111 #7699]  INFO -- : Response: 200 text/json {:data=>#<Hashie::Mash assetclass=["C"] investments=#<Hashie::Mash maximum="60000" minimum="50001"> states=["Arizona", "Indiana"]>}
I, [2014-07-03T15:38:33.286575 #7699]  INFO -- : Request: controller:notification_preferences action:get method:get
I, [2014-07-03T15:38:33.286672 #7699]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg"}
I, [2014-07-03T15:38:33.286726 #7699]  INFO -- : get_get
D, [2014-07-03T15:38:33.287246 #7699] DEBUG -- : Query: #<Mysql2::Result:0x007f8eab0e4750> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T15:38:33.287671 #7699] DEBUG -- : Query: #<Mysql2::Result:0x007f8eab0ee890> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='ee05df3be1da075940a53fcae5f9291aa424a6668e30fbf03529a2f8c8d38af4 re_portal_prefs_1 1404416313282' LIMIT 1
I, [2014-07-03T15:38:33.287967 #7699]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T15:38:33.288081 #7699]  INFO -- : this is line 31 {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :client=>"re_portal_prefs_1", :ottoken=>"ee05df3be1da075940a53fcae5f9291aa424a6668e30fbf03529a2f8c8d38af4 re_portal_prefs_1 1404416313282", :action=>"get", :controller=>"notification_preferences"}
I, [2014-07-03T15:38:33.294055 #7699]  INFO -- : Response: 200 text/json {:data=>#<Hashie::Mash assetclass=["C"] investments=#<Hashie::Mash maximum="60000" minimum="50001"> states=["Arizona", "Indiana"]>}
I, [2014-07-03T15:53:11.639177 #7699]  INFO -- : Request: controller:notification_preferences action:get method:get
I, [2014-07-03T15:53:11.639310 #7699]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg"}
I, [2014-07-03T15:53:11.639368 #7699]  INFO -- : get_get
D, [2014-07-03T15:53:11.641533 #7699] DEBUG -- : Query: #<Mysql2::Result:0x007f8eaa823cb0> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T15:53:11.642176 #7699] DEBUG -- : Query: #<Mysql2::Result:0x007f8eaa821de8> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='1df009243f0898f8159dc998df2fbe9384c6a4e515367b0128bd13458b33ab5e re_portal_prefs_1 1404417191625' LIMIT 1
I, [2014-07-03T15:53:11.642464 #7699]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T15:53:11.642547 #7699]  INFO -- : this is line 31 {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :client=>"re_portal_prefs_1", :ottoken=>"1df009243f0898f8159dc998df2fbe9384c6a4e515367b0128bd13458b33ab5e re_portal_prefs_1 1404417191625", :action=>"get", :controller=>"notification_preferences"}
I, [2014-07-03T15:53:11.647332 #7699]  INFO -- : Response: 200 text/json {:data=>#<Hashie::Mash assetclass=["C"] investments=#<Hashie::Mash maximum="60000" minimum="50001"> states=["Arizona", "Indiana"]>}
I, [2014-07-03T15:54:02.567812 #7699]  INFO -- : Request: controller:notification_preferences action:get method:get
I, [2014-07-03T15:54:02.567919 #7699]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg"}
I, [2014-07-03T15:54:02.567970 #7699]  INFO -- : get_get
D, [2014-07-03T15:54:02.568662 #7699] DEBUG -- : Query: #<Mysql2::Result:0x007f8eab17cb90> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T15:54:02.569084 #7699] DEBUG -- : Query: #<Mysql2::Result:0x007f8eab184d40> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='2f045f5ccfafaeff8d979208470a85cc1b007ee863019ae3245aedc7f8f83913 re_portal_prefs_1 1404417242561' LIMIT 1
I, [2014-07-03T15:54:02.569352 #7699]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T15:54:02.569430 #7699]  INFO -- : this is line 31 {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :client=>"re_portal_prefs_1", :ottoken=>"2f045f5ccfafaeff8d979208470a85cc1b007ee863019ae3245aedc7f8f83913 re_portal_prefs_1 1404417242561", :action=>"get", :controller=>"notification_preferences"}
I, [2014-07-03T15:54:02.576650 #7699]  INFO -- : Response: 200 text/json {:data=>#<Hashie::Mash assetclass=["C"] investments=#<Hashie::Mash maximum="60000" minimum="50001"> states=["Arizona", "Indiana"]>}
I, [2014-07-03T15:54:53.473054 #7699]  INFO -- : Request: controller:notification_preferences action:get method:get
I, [2014-07-03T15:54:53.473157 #7699]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg"}
I, [2014-07-03T15:54:53.473206 #7699]  INFO -- : get_get
D, [2014-07-03T15:54:53.474036 #7699] DEBUG -- : Query: #<Mysql2::Result:0x007f8eab2a2240> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T15:54:53.474485 #7699] DEBUG -- : Query: #<Mysql2::Result:0x007f8eab2a0508> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='17bf6c4c2fb9735a98c92458c19930ad17ea8a4ea3e46ca7952626082e889459 re_portal_prefs_1 1404417293460' LIMIT 1
I, [2014-07-03T15:54:53.475490 #7699]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T15:54:53.475591 #7699]  INFO -- : this is line 31 {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :client=>"re_portal_prefs_1", :ottoken=>"17bf6c4c2fb9735a98c92458c19930ad17ea8a4ea3e46ca7952626082e889459 re_portal_prefs_1 1404417293460", :action=>"get", :controller=>"notification_preferences"}
I, [2014-07-03T15:54:53.479541 #7699]  INFO -- : Response: 200 text/json {:data=>#<Hashie::Mash assetclass=["C"] investments=#<Hashie::Mash maximum="60000" minimum="50001"> states=["Arizona", "Indiana"]>}
I, [2014-07-03T15:55:16.234759 #7699]  INFO -- : Request: controller:notification_preferences action:get method:get
I, [2014-07-03T15:55:16.234875 #7699]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg"}
I, [2014-07-03T15:55:16.234930 #7699]  INFO -- : get_get
D, [2014-07-03T15:55:16.235802 #7699] DEBUG -- : Query: #<Mysql2::Result:0x007f8eab2de6a0> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T15:55:16.237604 #7699] DEBUG -- : Query: #<Mysql2::Result:0x007f8eab2dcd50> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='12aca4d33530929d7f9ce790b8d1fff18c8ec6000319c965496844fdd1f9f865 re_portal_prefs_1 1404417316228' LIMIT 1
I, [2014-07-03T15:55:16.241379 #7699]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T15:55:16.241518 #7699]  INFO -- : this is line 31 {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :client=>"re_portal_prefs_1", :ottoken=>"12aca4d33530929d7f9ce790b8d1fff18c8ec6000319c965496844fdd1f9f865 re_portal_prefs_1 1404417316228", :action=>"get", :controller=>"notification_preferences"}
I, [2014-07-03T15:55:16.252279 #7699]  INFO -- : Response: 200 text/json {:data=>#<Hashie::Mash assetclass=["C"] investments=#<Hashie::Mash maximum="60000" minimum="50001"> states=["Arizona", "Indiana"]>}
I, [2014-07-03T15:57:15.523645 #7699]  INFO -- : Request: controller:notification_preferences action:get method:get
I, [2014-07-03T15:57:15.523747 #7699]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg"}
I, [2014-07-03T15:57:15.523800 #7699]  INFO -- : get_get
D, [2014-07-03T15:57:15.524421 #7699] DEBUG -- : Query: #<Mysql2::Result:0x007f8eab318418> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T15:57:15.525196 #7699] DEBUG -- : Query: #<Mysql2::Result:0x007f8eab321dd8> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='8a1ccb87de19120c3d4df5ec2d7462d0650e2b5dc9412f08576113dc0d4f6320 re_portal_prefs_1 1404417435521' LIMIT 1
I, [2014-07-03T15:57:15.525823 #7699]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T15:57:15.525919 #7699]  INFO -- : this is line 31 {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :client=>"re_portal_prefs_1", :ottoken=>"8a1ccb87de19120c3d4df5ec2d7462d0650e2b5dc9412f08576113dc0d4f6320 re_portal_prefs_1 1404417435521", :action=>"get", :controller=>"notification_preferences"}
I, [2014-07-03T15:57:15.530299 #7699]  INFO -- : Response: 200 text/json {:data=>#<Hashie::Mash assetclass=["C"] investments=#<Hashie::Mash maximum="60000" minimum="50001"> states=["Arizona", "Indiana"]>}
I, [2014-07-03T15:57:19.350521 #7699]  INFO -- : Request: controller:notification_preferences action:get method:get
I, [2014-07-03T15:57:19.350648 #7699]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg"}
I, [2014-07-03T15:57:19.350746 #7699]  INFO -- : get_get
D, [2014-07-03T15:57:19.351450 #7699] DEBUG -- : Query: #<Mysql2::Result:0x007f8eab391de0> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T15:57:19.352487 #7699] DEBUG -- : Query: #<Mysql2::Result:0x007f8eab3a3bd0> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='e2711a8ffb13de62d40267811917c7b833cf4b3fe46d1a965db52d9fa4796007 re_portal_prefs_1 1404417439334' LIMIT 1
I, [2014-07-03T15:57:19.353019 #7699]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T15:57:19.353435 #7699]  INFO -- : this is line 31 {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :client=>"re_portal_prefs_1", :ottoken=>"e2711a8ffb13de62d40267811917c7b833cf4b3fe46d1a965db52d9fa4796007 re_portal_prefs_1 1404417439334", :action=>"get", :controller=>"notification_preferences"}
I, [2014-07-03T15:57:19.359834 #7699]  INFO -- : Response: 200 text/json {:data=>#<Hashie::Mash assetclass=["C"] investments=#<Hashie::Mash maximum="60000" minimum="50001"> states=["Arizona", "Indiana"]>}
I, [2014-07-03T15:58:19.047059 #7699]  INFO -- : Request: controller:notification_preferences action:get method:get
I, [2014-07-03T15:58:19.047161 #7699]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg"}
I, [2014-07-03T15:58:19.047210 #7699]  INFO -- : get_get
D, [2014-07-03T15:58:19.050319 #7699] DEBUG -- : Query: #<Mysql2::Result:0x007f8eab3f0f70> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T15:58:19.050839 #7699] DEBUG -- : Query: #<Mysql2::Result:0x007f8eab402540> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='1a1af81a4235bc256b5ef9d4cf0288a1e9d7835ce7122f7b94769db2b5c9ebc4 re_portal_prefs_1 1404417499037' LIMIT 1
I, [2014-07-03T15:58:19.051742 #7699]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T15:58:19.051833 #7699]  INFO -- : this is line 31 {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :client=>"re_portal_prefs_1", :ottoken=>"1a1af81a4235bc256b5ef9d4cf0288a1e9d7835ce7122f7b94769db2b5c9ebc4 re_portal_prefs_1 1404417499037", :action=>"get", :controller=>"notification_preferences"}
I, [2014-07-03T15:58:19.056435 #7699]  INFO -- : Response: 200 text/json {:data=>#<Hashie::Mash assetclass=["C"] investments=#<Hashie::Mash maximum="60000" minimum="50001"> states=["Arizona", "Indiana"]>}
I, [2014-07-03T16:03:40.392369 #7699]  INFO -- : Request: controller:notification_preferences action:get method:get
I, [2014-07-03T16:03:40.392480 #7699]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg"}
I, [2014-07-03T16:03:40.392528 #7699]  INFO -- : get_get
D, [2014-07-03T16:03:40.393053 #7699] DEBUG -- : Query: #<Mysql2::Result:0x007f8eab432ce0> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T16:03:40.393432 #7699] DEBUG -- : Query: #<Mysql2::Result:0x007f8eab430828> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='1939ac6164ffc8a3f8122fb45357726cb594206333f67804f24675a85dda31af re_portal_prefs_1 1404417820379' LIMIT 1
I, [2014-07-03T16:03:40.393712 #7699]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T16:03:40.394691 #7699]  INFO -- : this is line 31 {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :client=>"re_portal_prefs_1", :ottoken=>"1939ac6164ffc8a3f8122fb45357726cb594206333f67804f24675a85dda31af re_portal_prefs_1 1404417820379", :action=>"get", :controller=>"notification_preferences"}
I, [2014-07-03T16:03:40.400546 #7699]  INFO -- : Response: 200 text/json {:data=>#<Hashie::Mash assetclass=["C"] investments=#<Hashie::Mash maximum="60000" minimum="50001"> states=["Arizona", "Indiana"]>}
I, [2014-07-03T16:03:48.306952 #7699]  INFO -- : Request: controller:notification_preferences action:update method:put
I, [2014-07-03T16:03:48.307096 #7699]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :data=>"{\"assetclass\":[\"C\"],\"states\":[\"Arizona\",\"Indiana\",\"Washington\"],\"investments\":{\"minimum\":\"50001\",\"maximum\":\"60000\"}}"}
I, [2014-07-03T16:03:48.307156 #7699]  INFO -- : update_put
D, [2014-07-03T16:03:48.307870 #7699] DEBUG -- : Query: #<Mysql2::Result:0x007f8eaa92c6e8> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T16:03:48.309553 #7699] DEBUG -- : Query: #<Mysql2::Result:0x007f8eaa93dd30> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='7c9514d6e077d804ad64c8b9bc6f3c73c05e4001f20df8e9cedf1ab6e4c1064f re_portal_prefs_1 1404417828298' LIMIT 1
I, [2014-07-03T16:03:48.309870 #7699]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
W, [2014-07-03T16:03:48.310053 #7699]  WARN -- : Error processing request: #<TypeError: no implicit conversion of Symbol into Integer>
/Users/joshthedudeoflife/re_prefs_svc/lib/api_models/implementation.rb:55:in `[]'
/Users/joshthedudeoflife/re_prefs_svc/lib/api_models/implementation.rb:55:in `notification_preferences_update_put'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_control.rb:51:in `do_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:205:in `block (5 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:204:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:204:in `block (4 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:199:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:199:in `block (3 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:196:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:196:in `block (2 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:195:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:195:in `block in process_http_request'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/eventmachine-1.0.3/lib/eventmachine.rb:1037:in `call'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/eventmachine-1.0.3/lib/eventmachine.rb:1037:in `block in spawn_threadpool'
I, [2014-07-03T16:04:36.261789 #7699]  INFO -- : Request: controller:notification_preferences action:get method:get
I, [2014-07-03T16:04:36.261910 #7699]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg"}
I, [2014-07-03T16:04:36.261957 #7699]  INFO -- : get_get
D, [2014-07-03T16:04:36.272592 #7699] DEBUG -- : Query: #<Mysql2::Result:0x007f8eaa947b28> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T16:04:36.281333 #7699] DEBUG -- : Query: #<Mysql2::Result:0x007f8eaa945b98> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='c5b0bcfbc0b65a743f7adcbdd4d1205982e71db06780231e5e6ce1a35900d800 re_portal_prefs_1 1404417876244' LIMIT 1
I, [2014-07-03T16:04:36.282092 #7699]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T16:04:36.282259 #7699]  INFO -- : this is line 31 {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :client=>"re_portal_prefs_1", :ottoken=>"c5b0bcfbc0b65a743f7adcbdd4d1205982e71db06780231e5e6ce1a35900d800 re_portal_prefs_1 1404417876244", :action=>"get", :controller=>"notification_preferences"}
I, [2014-07-03T16:04:36.294302 #7699]  INFO -- : Response: 200 text/json {:data=>#<Hashie::Mash assetclass=["C"] investments=#<Hashie::Mash maximum="60000" minimum="50001"> states=["Arizona", "Indiana"]>}
I, [2014-07-03T16:05:19.064701 #7699]  INFO -- : Request: controller:notification_preferences action:update method:put
I, [2014-07-03T16:05:19.064813 #7699]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :data=>"{\"assetclass\":[\"C\"],\"states\":[\"Arizona\",\"Indiana\",\"Kentucky\"],\"investments\":{\"minimum\":\"50001\",\"maximum\":\"60000\"}}"}
I, [2014-07-03T16:05:19.064871 #7699]  INFO -- : update_put
D, [2014-07-03T16:05:19.065765 #7699] DEBUG -- : Query: #<Mysql2::Result:0x007f8eaa905958> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T16:05:19.069232 #7699] DEBUG -- : Query: #<Mysql2::Result:0x007f8eab43a418> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='0a6085c36291ca286c61386f422a20c02282ad2ffac3e856744f4dc35da1b723 re_portal_prefs_1 1404417919056' LIMIT 1
I, [2014-07-03T16:05:19.069875 #7699]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
W, [2014-07-03T16:05:19.070058 #7699]  WARN -- : Error processing request: #<TypeError: no implicit conversion of Symbol into Integer>
/Users/joshthedudeoflife/re_prefs_svc/lib/api_models/implementation.rb:55:in `[]'
/Users/joshthedudeoflife/re_prefs_svc/lib/api_models/implementation.rb:55:in `notification_preferences_update_put'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_control.rb:51:in `do_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:205:in `block (5 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:204:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:204:in `block (4 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:199:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:199:in `block (3 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:196:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:196:in `block (2 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:195:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:195:in `block in process_http_request'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/eventmachine-1.0.3/lib/eventmachine.rb:1037:in `call'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/eventmachine-1.0.3/lib/eventmachine.rb:1037:in `block in spawn_threadpool'
I, [2014-07-03T16:05:21.456609 #7699]  INFO -- : Request: controller:notification_preferences action:get method:get
I, [2014-07-03T16:05:21.456715 #7699]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg"}
I, [2014-07-03T16:05:21.456763 #7699]  INFO -- : get_get
D, [2014-07-03T16:05:21.457303 #7699] DEBUG -- : Query: #<Mysql2::Result:0x007f8eab429140> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T16:05:21.457844 #7699] DEBUG -- : Query: #<Mysql2::Result:0x007f8eab423088> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='b02c97f4b0b4460a87fff0df65fa56f5b3def9b9c7e496df0a8fecaaf7f30c74 re_portal_prefs_1 1404417921449' LIMIT 1
I, [2014-07-03T16:05:21.458216 #7699]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T16:05:21.458314 #7699]  INFO -- : this is line 31 {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :client=>"re_portal_prefs_1", :ottoken=>"b02c97f4b0b4460a87fff0df65fa56f5b3def9b9c7e496df0a8fecaaf7f30c74 re_portal_prefs_1 1404417921449", :action=>"get", :controller=>"notification_preferences"}
I, [2014-07-03T16:05:21.465833 #7699]  INFO -- : Response: 200 text/json {:data=>#<Hashie::Mash assetclass=["C"] investments=#<Hashie::Mash maximum="60000" minimum="50001"> states=["Arizona", "Indiana"]>}
I, [2014-07-03T16:05:28.254299 #7699]  INFO -- : Request: controller:notification_preferences action:update method:put
I, [2014-07-03T16:05:28.254406 #7699]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :data=>"{\"assetclass\":[\"C\"],\"states\":[\"Arizona\",\"Indiana\",\"Washington\"],\"investments\":{\"minimum\":\"50001\",\"maximum\":\"60000\"}}"}
I, [2014-07-03T16:05:28.254476 #7699]  INFO -- : update_put
D, [2014-07-03T16:05:28.255026 #7699] DEBUG -- : Query: #<Mysql2::Result:0x007f8eab3cbb80> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T16:05:28.255552 #7699] DEBUG -- : Query: #<Mysql2::Result:0x007f8eab3b1be0> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='07c0855f176690ff2fcb3fe20e4c3bcd08d0c9df652637e58edb7b5deaa5318a re_portal_prefs_1 1404417928251' LIMIT 1
I, [2014-07-03T16:05:28.255964 #7699]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
W, [2014-07-03T16:05:28.256092 #7699]  WARN -- : Error processing request: #<TypeError: no implicit conversion of Symbol into Integer>
/Users/joshthedudeoflife/re_prefs_svc/lib/api_models/implementation.rb:55:in `[]'
/Users/joshthedudeoflife/re_prefs_svc/lib/api_models/implementation.rb:55:in `notification_preferences_update_put'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_control.rb:51:in `do_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:205:in `block (5 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:204:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:204:in `block (4 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:199:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:199:in `block (3 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:196:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:196:in `block (2 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:195:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:195:in `block in process_http_request'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/eventmachine-1.0.3/lib/eventmachine.rb:1037:in `call'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/eventmachine-1.0.3/lib/eventmachine.rb:1037:in `block in spawn_threadpool'
I, [2014-07-03T16:17:39.319336 #7853]  INFO -- : Started running (KeepBusy): Log file: /Users/joshthedudeoflife/re_prefs_svc/log/run.log
I, [2014-07-03T16:17:50.138128 #7853]  INFO -- : Request: controller:notification_preferences action:get method:get
I, [2014-07-03T16:17:50.138266 #7853]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg"}
I, [2014-07-03T16:17:50.138319 #7853]  INFO -- : get_get
D, [2014-07-03T16:17:50.179423 #7853] DEBUG -- : Query: #<Mysql2::Result:0x007f8db9043af0> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T16:17:50.180082 #7853] DEBUG -- : Query: #<Mysql2::Result:0x007f8db90402d8> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='49c4617549b27486b372f943e4c66ab42f592d26fdfe064a90dc89f1e21b50d1 re_portal_prefs_1 1404418670030' LIMIT 1
I, [2014-07-03T16:17:50.180434 #7853]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T16:17:50.180538 #7853]  INFO -- : this is line 31 {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :client=>"re_portal_prefs_1", :ottoken=>"49c4617549b27486b372f943e4c66ab42f592d26fdfe064a90dc89f1e21b50d1 re_portal_prefs_1 1404418670030", :action=>"get", :controller=>"notification_preferences"}
I, [2014-07-03T16:17:50.217166 #7853]  INFO -- : Response: 200 text/json {:data=>#<Hashie::Mash assetclass=["C"] investments=#<Hashie::Mash maximum="60000" minimum="50001"> states=["Arizona", "Indiana"]>}
I, [2014-07-03T16:17:58.587427 #7853]  INFO -- : Request: controller:notification_preferences action:update method:put
I, [2014-07-03T16:17:58.587537 #7853]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :data=>"{\"assetclass\":[\"C\"],\"states\":[\"Arizona\",\"Indiana\",\"Kansas\"],\"investments\":{\"minimum\":\"50001\",\"maximum\":\"60000\"}}"}
I, [2014-07-03T16:17:58.587589 #7853]  INFO -- : update_put
D, [2014-07-03T16:17:58.588148 #7853] DEBUG -- : Query: #<Mysql2::Result:0x007f8db986e1a8> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T16:17:58.588654 #7853] DEBUG -- : Query: #<Mysql2::Result:0x007f8db987fb38> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='077cd1c4cd1baf1a582940861870ab06adb169fee06b87b1ea0f1206bad691a9 re_portal_prefs_1 1404418678584' LIMIT 1
I, [2014-07-03T16:17:58.588939 #7853]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
W, [2014-07-03T16:17:58.589093 #7853]  WARN -- : Error processing request: #<TypeError: no implicit conversion of Symbol into Integer>
/Users/joshthedudeoflife/re_prefs_svc/lib/api_models/implementation.rb:55:in `[]'
/Users/joshthedudeoflife/re_prefs_svc/lib/api_models/implementation.rb:55:in `notification_preferences_update_put'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_control.rb:51:in `do_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:205:in `block (5 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:204:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:204:in `block (4 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:199:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:199:in `block (3 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:196:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:196:in `block (2 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:195:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:195:in `block in process_http_request'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/eventmachine-1.0.3/lib/eventmachine.rb:1037:in `call'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/eventmachine-1.0.3/lib/eventmachine.rb:1037:in `block in spawn_threadpool'
I, [2014-07-03T16:19:08.868698 #7853]  INFO -- : Request: controller:notification_preferences action:get method:get
I, [2014-07-03T16:19:08.868797 #7853]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg"}
I, [2014-07-03T16:19:08.868848 #7853]  INFO -- : get_get
D, [2014-07-03T16:19:08.869452 #7853] DEBUG -- : Query: #<Mysql2::Result:0x007f8db988f740> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T16:19:08.869908 #7853] DEBUG -- : Query: #<Mysql2::Result:0x007f8db988d738> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='bfa1bbdb6eb2e2bb4a789256a567a98240feb572ff3618fb435de2aabac6961f re_portal_prefs_1 1404418748866' LIMIT 1
I, [2014-07-03T16:19:08.870224 #7853]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T16:19:08.870318 #7853]  INFO -- : this is line 31 {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :client=>"re_portal_prefs_1", :ottoken=>"bfa1bbdb6eb2e2bb4a789256a567a98240feb572ff3618fb435de2aabac6961f re_portal_prefs_1 1404418748866", :action=>"get", :controller=>"notification_preferences"}
I, [2014-07-03T16:19:08.874840 #7853]  INFO -- : Response: 200 text/json {:data=>#<Hashie::Mash assetclass=["C"] investments=#<Hashie::Mash maximum="60000" minimum="50001"> states=["Arizona", "Indiana"]>}
I, [2014-07-03T16:19:17.279986 #7872]  INFO -- : Started running (KeepBusy): Log file: /Users/joshthedudeoflife/re_prefs_svc/log/run.log
I, [2014-07-03T16:19:21.443366 #7872]  INFO -- : Request: controller:notification_preferences action:get method:get
I, [2014-07-03T16:19:21.443513 #7872]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg"}
I, [2014-07-03T16:19:21.443567 #7872]  INFO -- : get_get
D, [2014-07-03T16:19:21.461645 #7872] DEBUG -- : Query: #<Mysql2::Result:0x007f9793043ad0> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T16:19:21.462420 #7872] DEBUG -- : Query: #<Mysql2::Result:0x007f97930402b8> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='47b71a3e1b97bbcd14e4ea4fd840dbb5c0ecb9215d41c1ff5d084b9e82530af1 re_portal_prefs_1 1404418761374' LIMIT 1
I, [2014-07-03T16:19:21.462795 #7872]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T16:19:21.462896 #7872]  INFO -- : this is line 31 {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :client=>"re_portal_prefs_1", :ottoken=>"47b71a3e1b97bbcd14e4ea4fd840dbb5c0ecb9215d41c1ff5d084b9e82530af1 re_portal_prefs_1 1404418761374", :action=>"get", :controller=>"notification_preferences"}
I, [2014-07-03T16:19:21.473902 #7872]  INFO -- : Response: 200 text/json {:data=>#<Hashie::Mash assetclass=["C"] investments=#<Hashie::Mash maximum="60000" minimum="50001"> states=["Arizona", "Indiana"]>}
I, [2014-07-03T16:19:57.770332 #7872]  INFO -- : Request: controller:notification_preferences action:update method:put
I, [2014-07-03T16:19:57.770449 #7872]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :data=>"{\"assetclass\":[\"C\"],\"states\":[\"Arizona\",\"Indiana\",\"Virginia\"],\"investments\":{\"minimum\":\"50001\",\"maximum\":\"60000\"}}"}
I, [2014-07-03T16:19:57.770503 #7872]  INFO -- : update_put
D, [2014-07-03T16:19:57.771117 #7872] DEBUG -- : Query: #<Mysql2::Result:0x007f979386dd78> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T16:19:57.772011 #7872] DEBUG -- : Query: #<Mysql2::Result:0x007f979387f690> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='38cca8a583c2ccdf26ff0070a5e591c0407ce4b5aee850aecfe4e6af8d7396b4 re_portal_prefs_1 1404418797766' LIMIT 1
I, [2014-07-03T16:19:57.772446 #7872]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
W, [2014-07-03T16:19:57.772647 #7872]  WARN -- : Error processing request: #<ArgumentError: wrong number of arguments (1 for 2)>
/Users/joshthedudeoflife/re_prefs_svc/lib/api_models/implementation.rb:72:in `put_to_es'
/Users/joshthedudeoflife/re_prefs_svc/lib/api_models/implementation.rb:57:in `notification_preferences_update_put'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_control.rb:51:in `do_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:205:in `block (5 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:204:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:204:in `block (4 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:199:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:199:in `block (3 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:196:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:196:in `block (2 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:195:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:195:in `block in process_http_request'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/eventmachine-1.0.3/lib/eventmachine.rb:1037:in `call'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/eventmachine-1.0.3/lib/eventmachine.rb:1037:in `block in spawn_threadpool'
I, [2014-07-03T16:20:45.395487 #7888]  INFO -- : Started running (KeepBusy): Log file: /Users/joshthedudeoflife/re_prefs_svc/log/run.log
I, [2014-07-03T16:20:48.265137 #7888]  INFO -- : Request: controller:notification_preferences action:get method:get
I, [2014-07-03T16:20:48.265339 #7888]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg"}
I, [2014-07-03T16:20:48.265401 #7888]  INFO -- : get_get
D, [2014-07-03T16:20:48.290027 #7888] DEBUG -- : Query: #<Mysql2::Result:0x007f9be2843b60> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T16:20:48.290823 #7888] DEBUG -- : Query: #<Mysql2::Result:0x007f9be28402f8> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='c8cd0045eb60041bb17b4e4537fbae5f3b7ad5fb11c0f2ce8de61e051938795a re_portal_prefs_1 1404418848225' LIMIT 1
I, [2014-07-03T16:20:48.291353 #7888]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T16:20:48.291470 #7888]  INFO -- : this is line 31 {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :client=>"re_portal_prefs_1", :ottoken=>"c8cd0045eb60041bb17b4e4537fbae5f3b7ad5fb11c0f2ce8de61e051938795a re_portal_prefs_1 1404418848225", :action=>"get", :controller=>"notification_preferences"}
I, [2014-07-03T16:20:48.305858 #7888]  INFO -- : Response: 200 text/json {:data=>#<Hashie::Mash assetclass=["C"] investments=#<Hashie::Mash maximum="60000" minimum="50001"> states=["Arizona", "Indiana"]>}
I, [2014-07-03T16:20:56.074597 #7888]  INFO -- : Request: controller:notification_preferences action:update method:put
I, [2014-07-03T16:20:56.074705 #7888]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :data=>"{\"assetclass\":[\"C\"],\"states\":[\"Arizona\",\"Arkansas\",\"Indiana\"],\"investments\":{\"minimum\":\"50001\",\"maximum\":\"60000\"}}"}
I, [2014-07-03T16:20:56.074756 #7888]  INFO -- : update_put
D, [2014-07-03T16:20:56.075340 #7888] DEBUG -- : Query: #<Mysql2::Result:0x007f9be306e1c8> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T16:20:56.075948 #7888] DEBUG -- : Query: #<Mysql2::Result:0x007f9be307fb58> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='70756ffbe80323fb092167942925872d75f7d01f9dd4779cfbe0833f1bb4adc0 re_portal_prefs_1 1404418856072' LIMIT 1
I, [2014-07-03T16:20:56.076259 #7888]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
W, [2014-07-03T16:20:56.076414 #7888]  WARN -- : Error processing request: #<TypeError: no implicit conversion of Symbol into Integer>
/Users/joshthedudeoflife/re_prefs_svc/lib/api_models/implementation.rb:55:in `[]'
/Users/joshthedudeoflife/re_prefs_svc/lib/api_models/implementation.rb:55:in `notification_preferences_update_put'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_control.rb:51:in `do_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:205:in `block (5 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:204:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:204:in `block (4 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:199:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:199:in `block (3 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:196:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:196:in `block (2 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:195:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:195:in `block in process_http_request'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/eventmachine-1.0.3/lib/eventmachine.rb:1037:in `call'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/eventmachine-1.0.3/lib/eventmachine.rb:1037:in `block in spawn_threadpool'
I, [2014-07-03T16:23:12.108367 #7888]  INFO -- : Request: controller:notification_preferences action:get method:get
I, [2014-07-03T16:23:12.108463 #7888]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg"}
I, [2014-07-03T16:23:12.108515 #7888]  INFO -- : get_get
D, [2014-07-03T16:23:12.109085 #7888] DEBUG -- : Query: #<Mysql2::Result:0x007f9be308f710> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T16:23:12.109544 #7888] DEBUG -- : Query: #<Mysql2::Result:0x007f9be308d690> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='edc912c2cc3afba44de87a658b3de78c6e767b4a01cb20a167f40a21910d9222 re_portal_prefs_1 1404418992105' LIMIT 1
I, [2014-07-03T16:23:12.109863 #7888]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T16:23:12.109955 #7888]  INFO -- : this is line 31 {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :client=>"re_portal_prefs_1", :ottoken=>"edc912c2cc3afba44de87a658b3de78c6e767b4a01cb20a167f40a21910d9222 re_portal_prefs_1 1404418992105", :action=>"get", :controller=>"notification_preferences"}
I, [2014-07-03T16:23:12.115081 #7888]  INFO -- : Response: 200 text/json {:data=>#<Hashie::Mash assetclass=["C"] investments=#<Hashie::Mash maximum="60000" minimum="50001"> states=["Arizona", "Indiana"]>}
I, [2014-07-03T16:23:19.289382 #7888]  INFO -- : Request: controller:notification_preferences action:update method:put
I, [2014-07-03T16:23:19.289498 #7888]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :data=>"{\"assetclass\":[\"C\"],\"states\":[\"Arizona\",\"Indiana\",\"Minnesota\"],\"investments\":{\"minimum\":\"50001\",\"maximum\":\"60000\"}}"}
I, [2014-07-03T16:23:19.289547 #7888]  INFO -- : update_put
D, [2014-07-03T16:23:19.290146 #7888] DEBUG -- : Query: #<Mysql2::Result:0x007f9be304dba8> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T16:23:19.290685 #7888] DEBUG -- : Query: #<Mysql2::Result:0x007f9be305b7d0> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='56f978ac1438701287a4243e76a98e50ce5138857643a532a3a17405082e1dc6 re_portal_prefs_1 1404418999272' LIMIT 1
I, [2014-07-03T16:23:19.291002 #7888]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
W, [2014-07-03T16:23:19.291117 #7888]  WARN -- : Error processing request: #<TypeError: no implicit conversion of Symbol into Integer>
/Users/joshthedudeoflife/re_prefs_svc/lib/api_models/implementation.rb:55:in `[]'
/Users/joshthedudeoflife/re_prefs_svc/lib/api_models/implementation.rb:55:in `notification_preferences_update_put'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_control.rb:51:in `do_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:205:in `block (5 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:204:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:204:in `block (4 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:199:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:199:in `block (3 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:196:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:196:in `block (2 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:195:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:195:in `block in process_http_request'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/eventmachine-1.0.3/lib/eventmachine.rb:1037:in `call'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/eventmachine-1.0.3/lib/eventmachine.rb:1037:in `block in spawn_threadpool'
I, [2014-07-03T16:23:35.910192 #7911]  INFO -- : Started running (KeepBusy): Log file: /Users/joshthedudeoflife/re_prefs_svc/log/run.log
I, [2014-07-03T16:24:25.309918 #7937]  INFO -- : Started running (KeepBusy): Log file: /Users/joshthedudeoflife/re_prefs_svc/log/run.log
I, [2014-07-03T16:24:30.024833 #7937]  INFO -- : Request: controller:notification_preferences action:get method:get
I, [2014-07-03T16:24:30.024978 #7937]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg"}
I, [2014-07-03T16:24:30.025032 #7937]  INFO -- : get_get
D, [2014-07-03T16:24:30.056841 #7937] DEBUG -- : Query: #<Mysql2::Result:0x007f8133843eb8> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T16:24:30.058473 #7937] DEBUG -- : Query: #<Mysql2::Result:0x007f81338404e8> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='36cf424e70125591bd55e4e820dc8d5ce300f76393b9a1fa3166d54b0cf36a5e re_portal_prefs_1 1404419069990' LIMIT 1
I, [2014-07-03T16:24:30.059795 #7937]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T16:24:30.059932 #7937]  INFO -- : this is line 31 {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :client=>"re_portal_prefs_1", :ottoken=>"36cf424e70125591bd55e4e820dc8d5ce300f76393b9a1fa3166d54b0cf36a5e re_portal_prefs_1 1404419069990", :action=>"get", :controller=>"notification_preferences"}
I, [2014-07-03T16:24:30.076021 #7937]  INFO -- : Response: 200 text/json {:data=>#<Hashie::Mash assetclass=["C"] investments=#<Hashie::Mash maximum="60000" minimum="50001"> states=["Arizona", "Indiana"]>}
I, [2014-07-03T16:24:35.157993 #7937]  INFO -- : Request: controller:notification_preferences action:update method:put
I, [2014-07-03T16:24:35.158098 #7937]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :data=>"{\"assetclass\":[\"C\"],\"states\":[\"Arizona\",\"Indiana\",\"Texas\"],\"investments\":{\"minimum\":\"50001\",\"maximum\":\"60000\"}}"}
I, [2014-07-03T16:24:35.158150 #7937]  INFO -- : update_put
D, [2014-07-03T16:24:35.158725 #7937] DEBUG -- : Query: #<Mysql2::Result:0x007f8133935f10> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T16:24:35.159806 #7937] DEBUG -- : Query: #<Mysql2::Result:0x007f8133947b70> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='5673ef9e6ce1cf658c4bef0d9d8e83dd46a1877ed8ecd81055879dcbf9c0fd8c re_portal_prefs_1 1404419075155' LIMIT 1
I, [2014-07-03T16:24:35.160169 #7937]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
W, [2014-07-03T16:24:35.160340 #7937]  WARN -- : Error processing request: #<TypeError: no implicit conversion of Symbol into Integer>
/Users/joshthedudeoflife/re_prefs_svc/lib/api_models/implementation.rb:55:in `[]'
/Users/joshthedudeoflife/re_prefs_svc/lib/api_models/implementation.rb:55:in `notification_preferences_update_put'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_control.rb:51:in `do_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:205:in `block (5 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:204:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:204:in `block (4 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:199:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:199:in `block (3 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:196:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:196:in `block (2 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:195:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:195:in `block in process_http_request'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/eventmachine-1.0.3/lib/eventmachine.rb:1037:in `call'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/eventmachine-1.0.3/lib/eventmachine.rb:1037:in `block in spawn_threadpool'
I, [2014-07-03T16:25:42.495876 #7957]  INFO -- : Started running (KeepBusy): Log file: /Users/joshthedudeoflife/re_prefs_svc/log/run.log
I, [2014-07-03T16:25:51.958199 #7957]  INFO -- : Request: controller:notification_preferences action:get method:get
I, [2014-07-03T16:25:51.959613 #7957]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg"}
I, [2014-07-03T16:25:51.959720 #7957]  INFO -- : get_get
D, [2014-07-03T16:25:51.980470 #7957] DEBUG -- : Query: #<Mysql2::Result:0x007fe553843b00> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T16:25:51.981863 #7957] DEBUG -- : Query: #<Mysql2::Result:0x007fe5538402e8> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='fa9b37acccee6571d3b73e040a85210da42b6754a26dae081e301eddcdb86761 re_portal_prefs_1 1404419151921' LIMIT 1
I, [2014-07-03T16:25:51.982638 #7957]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T16:25:51.982774 #7957]  INFO -- : this is line 31 {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :client=>"re_portal_prefs_1", :ottoken=>"fa9b37acccee6571d3b73e040a85210da42b6754a26dae081e301eddcdb86761 re_portal_prefs_1 1404419151921", :action=>"get", :controller=>"notification_preferences"}
I, [2014-07-03T16:25:51.998727 #7957]  INFO -- : Response: 200 text/json {:data=>#<Hashie::Mash assetclass=["C"] investments=#<Hashie::Mash maximum="60000" minimum="50001"> states=["Arizona", "Indiana"]>}
I, [2014-07-03T16:25:58.877323 #7957]  INFO -- : Request: controller:notification_preferences action:update method:put
I, [2014-07-03T16:25:58.877429 #7957]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :data=>"{\"assetclass\":[\"C\"],\"states\":[\"Arizona\",\"Indiana\",\"Tennessee\"],\"investments\":{\"minimum\":\"50001\",\"maximum\":\"60000\"}}"}
I, [2014-07-03T16:25:58.877482 #7957]  INFO -- : update_put
D, [2014-07-03T16:25:58.878329 #7957] DEBUG -- : Query: #<Mysql2::Result:0x007fe55390a228> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T16:25:58.878949 #7957] DEBUG -- : Query: #<Mysql2::Result:0x007fe55393baa8> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='69ed4c0a916b3705e6c760e4b8458b931592fa78ac80364065e3f92b83b87b22 re_portal_prefs_1 1404419158874' LIMIT 1
I, [2014-07-03T16:25:58.879264 #7957]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
W, [2014-07-03T16:25:58.879497 #7957]  WARN -- : Error processing request: #<TypeError: no implicit conversion of Symbol into Integer>
/Users/joshthedudeoflife/re_prefs_svc/lib/api_models/implementation.rb:55:in `[]'
/Users/joshthedudeoflife/re_prefs_svc/lib/api_models/implementation.rb:55:in `notification_preferences_update_put'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_control.rb:51:in `do_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:205:in `block (5 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:204:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:204:in `block (4 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:199:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:199:in `block (3 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:196:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:196:in `block (2 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:195:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:195:in `block in process_http_request'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/eventmachine-1.0.3/lib/eventmachine.rb:1037:in `call'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/eventmachine-1.0.3/lib/eventmachine.rb:1037:in `block in spawn_threadpool'
I, [2014-07-03T16:27:47.593494 #8058]  INFO -- : Started running (KeepBusy): Log file: /Users/joshthedudeoflife/re_prefs_svc/log/run.log
I, [2014-07-03T16:27:55.474528 #8058]  INFO -- : Request: controller:notification_preferences action:get method:get
I, [2014-07-03T16:27:55.474681 #8058]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg"}
I, [2014-07-03T16:27:55.475022 #8058]  INFO -- : get_get
D, [2014-07-03T16:27:55.488942 #8058] DEBUG -- : Query: #<Mysql2::Result:0x007f86fc043eb0> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T16:27:55.489730 #8058] DEBUG -- : Query: #<Mysql2::Result:0x007f86fc0404e0> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='6824dc8954f63f398b74e1cde50e43b760b2fe0fbb3d0308bac193da69a55d43 re_portal_prefs_1 1404419275438' LIMIT 1
I, [2014-07-03T16:27:55.490282 #8058]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T16:27:55.490402 #8058]  INFO -- : this is line 31 {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :client=>"re_portal_prefs_1", :ottoken=>"6824dc8954f63f398b74e1cde50e43b760b2fe0fbb3d0308bac193da69a55d43 re_portal_prefs_1 1404419275438", :action=>"get", :controller=>"notification_preferences"}
I, [2014-07-03T16:27:55.505379 #8058]  INFO -- : Response: 200 text/json {:data=>#<Hashie::Mash assetclass=["C"] investments=#<Hashie::Mash maximum="60000" minimum="50001"> states=["Arizona", "Indiana"]>}
I, [2014-07-03T16:28:03.298622 #8058]  INFO -- : Request: controller:notification_preferences action:update method:put
I, [2014-07-03T16:28:03.298761 #8058]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :data=>"{\"assetclass\":[\"C\"],\"states\":[\"Arizona\",\"Arkansas\",\"Indiana\"],\"investments\":{\"minimum\":\"50001\",\"maximum\":\"60000\"}}"}
I, [2014-07-03T16:28:03.298814 #8058]  INFO -- : update_put
D, [2014-07-03T16:28:03.299853 #8058] DEBUG -- : Query: #<Mysql2::Result:0x007f86fc86e428> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T16:28:03.300473 #8058] DEBUG -- : Query: #<Mysql2::Result:0x007f86fc87fe30> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='161f7c505f359075d2c06d72f3962919a12e97c37493b47f3f93642ba63a27ad re_portal_prefs_1 1404419283295' LIMIT 1
I, [2014-07-03T16:28:03.300794 #8058]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
W, [2014-07-03T16:28:03.300963 #8058]  WARN -- : Error processing request: #<TypeError: no implicit conversion of Symbol into Integer>
/Users/joshthedudeoflife/re_prefs_svc/lib/api_models/implementation.rb:55:in `[]'
/Users/joshthedudeoflife/re_prefs_svc/lib/api_models/implementation.rb:55:in `notification_preferences_update_put'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_control.rb:51:in `do_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:205:in `block (5 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:204:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:204:in `block (4 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:199:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:199:in `block (3 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:196:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:196:in `block (2 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:195:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:195:in `block in process_http_request'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/eventmachine-1.0.3/lib/eventmachine.rb:1037:in `call'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/eventmachine-1.0.3/lib/eventmachine.rb:1037:in `block in spawn_threadpool'
I, [2014-07-03T16:30:34.351675 #8152]  INFO -- : Started running (KeepBusy): Log file: /Users/joshthedudeoflife/re_prefs_svc/log/run.log
I, [2014-07-03T16:30:42.449433 #8152]  INFO -- : Request: controller:notification_preferences action:get method:get
I, [2014-07-03T16:30:42.449586 #8152]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg"}
I, [2014-07-03T16:30:42.449640 #8152]  INFO -- : get_get
D, [2014-07-03T16:30:42.467899 #8152] DEBUG -- : Query: #<Mysql2::Result:0x007fe0c4043b00> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T16:30:42.468786 #8152] DEBUG -- : Query: #<Mysql2::Result:0x007fe0c40402e8> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='f021a2db2488f597793e3fe183d21a2b16a2bfd45be130fb98d78ee3c48a638c re_portal_prefs_1 1404419442383' LIMIT 1
I, [2014-07-03T16:30:42.469184 #8152]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T16:30:42.469278 #8152]  INFO -- : this is line 31 {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :client=>"re_portal_prefs_1", :ottoken=>"f021a2db2488f597793e3fe183d21a2b16a2bfd45be130fb98d78ee3c48a638c re_portal_prefs_1 1404419442383", :action=>"get", :controller=>"notification_preferences"}
I, [2014-07-03T16:30:42.477657 #8152]  INFO -- : Response: 200 text/json {:data=>#<Hashie::Mash assetclass=["C"] investments=#<Hashie::Mash maximum="60000" minimum="50001"> states=["Arizona", "Indiana"]>}
I, [2014-07-03T16:30:49.540477 #8152]  INFO -- : Request: controller:notification_preferences action:update method:put
I, [2014-07-03T16:30:49.540583 #8152]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :data=>"{\"assetclass\":[\"C\"],\"states\":[\"Arizona\",\"Indiana\",\"South Dakota\"],\"investments\":{\"minimum\":\"50001\",\"maximum\":\"60000\"}}"}
I, [2014-07-03T16:30:49.540635 #8152]  INFO -- : update_put
D, [2014-07-03T16:30:49.541213 #8152] DEBUG -- : Query: #<Mysql2::Result:0x007fe0c486a220> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T16:30:49.541832 #8152] DEBUG -- : Query: #<Mysql2::Result:0x007fe0c487ba98> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='4dd25c11370a3a95bc75988dd16b8897474705c840662fe099c5a5e3e8791d5b re_portal_prefs_1 1404419449536' LIMIT 1
I, [2014-07-03T16:30:49.542183 #8152]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
W, [2014-07-03T16:30:49.542406 #8152]  WARN -- : Error processing request: #<NameError: undefined local variable or method `id' for #<SecureApi::Implementation:0x007fe0c4861af8>>
/Users/joshthedudeoflife/re_prefs_svc/lib/api_models/implementation.rb:59:in `notification_preferences_update_put'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_control.rb:51:in `do_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:205:in `block (5 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:204:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:204:in `block (4 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:199:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:199:in `block (3 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:196:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:196:in `block (2 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:195:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:195:in `block in process_http_request'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/eventmachine-1.0.3/lib/eventmachine.rb:1037:in `call'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/eventmachine-1.0.3/lib/eventmachine.rb:1037:in `block in spawn_threadpool'
I, [2014-07-03T16:32:12.017130 #8259]  INFO -- : Started running (KeepBusy): Log file: /Users/joshthedudeoflife/re_prefs_svc/log/run.log
I, [2014-07-03T16:32:15.912393 #8259]  INFO -- : Request: controller:notification_preferences action:get method:get
I, [2014-07-03T16:32:15.912539 #8259]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg"}
I, [2014-07-03T16:32:15.912593 #8259]  INFO -- : get_get
D, [2014-07-03T16:32:15.937522 #8259] DEBUG -- : Query: #<Mysql2::Result:0x007fa2f2043b60> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T16:32:15.941752 #8259] DEBUG -- : Query: #<Mysql2::Result:0x007fa2f20402f8> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='32fbffd9b29c982dc460821c88854d579bad6c254608b5fe77da0a96d33d7853 re_portal_prefs_1 1404419535872' LIMIT 1
I, [2014-07-03T16:32:15.942771 #8259]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T16:32:15.942915 #8259]  INFO -- : this is line 31 {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :client=>"re_portal_prefs_1", :ottoken=>"32fbffd9b29c982dc460821c88854d579bad6c254608b5fe77da0a96d33d7853 re_portal_prefs_1 1404419535872", :action=>"get", :controller=>"notification_preferences"}
I, [2014-07-03T16:32:15.953893 #8259]  INFO -- : Response: 200 text/json {:data=>#<Hashie::Mash assetclass=["C"] investments=#<Hashie::Mash maximum="60000" minimum="50001"> states=["Arizona", "Indiana"]>}
I, [2014-07-03T16:32:20.692849 #8259]  INFO -- : Request: controller:notification_preferences action:update method:put
I, [2014-07-03T16:32:20.692973 #8259]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :data=>"{\"assetclass\":[\"C\"],\"states\":[\"Arizona\",\"Indiana\",\"West Virginia\"],\"investments\":{\"minimum\":\"50001\",\"maximum\":\"60000\"}}"}
I, [2014-07-03T16:32:20.693071 #8259]  INFO -- : update_put
D, [2014-07-03T16:32:20.693662 #8259] DEBUG -- : Query: #<Mysql2::Result:0x007fa2f286e128> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T16:32:20.694235 #8259] DEBUG -- : Query: #<Mysql2::Result:0x007fa2f287fa18> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='a8fdadf5cee34e1bcbf6c13fe13e36327e5f9fad78de7d393fbe28a5b70efa9a re_portal_prefs_1 1404419540690' LIMIT 1
I, [2014-07-03T16:32:20.694541 #8259]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T16:32:20.694644 #8259]  INFO -- : Response: 200 text/json {}
I, [2014-07-03T16:34:04.963017 #8259]  INFO -- : Request: controller:notification_preferences action:get method:get
I, [2014-07-03T16:34:04.963116 #8259]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg"}
I, [2014-07-03T16:34:04.963197 #8259]  INFO -- : get_get
D, [2014-07-03T16:34:04.964739 #8259] DEBUG -- : Query: #<Mysql2::Result:0x007fa2f288faf8> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T16:34:04.965345 #8259] DEBUG -- : Query: #<Mysql2::Result:0x007fa2f288e2c0> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='bfeb62c47ecde14708e09026064955546a1dd6e1cc087087193c5476043b888c re_portal_prefs_1 1404419644960' LIMIT 1
I, [2014-07-03T16:34:04.965713 #8259]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T16:34:04.965809 #8259]  INFO -- : this is line 31 {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :client=>"re_portal_prefs_1", :ottoken=>"bfeb62c47ecde14708e09026064955546a1dd6e1cc087087193c5476043b888c re_portal_prefs_1 1404419644960", :action=>"get", :controller=>"notification_preferences"}
I, [2014-07-03T16:34:04.969978 #8259]  INFO -- : Response: 200 text/json {:data=>#<Hashie::Mash assetclass=["C"] investments=#<Hashie::Mash maximum="60000" minimum="50001"> states=["Arizona", "Indiana"]>}
I, [2014-07-03T16:34:13.808290 #8399]  INFO -- : Started running (KeepBusy): Log file: /Users/joshthedudeoflife/re_prefs_svc/log/run.log
I, [2014-07-03T16:34:15.996628 #8399]  INFO -- : Request: controller:notification_preferences action:get method:get
I, [2014-07-03T16:34:15.997218 #8399]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg"}
I, [2014-07-03T16:34:15.997279 #8399]  INFO -- : get_get
D, [2014-07-03T16:34:16.014753 #8399] DEBUG -- : Query: #<Mysql2::Result:0x007fd9d2043ec8> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T16:34:16.015464 #8399] DEBUG -- : Query: #<Mysql2::Result:0x007fd9d2040638> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='d426c45d55579c02e0fbcd7ed4e7e376da00fcb0e50e451c6382456cb1bf08a7 re_portal_prefs_1 1404419655908' LIMIT 1
I, [2014-07-03T16:34:16.016088 #8399]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T16:34:16.016203 #8399]  INFO -- : this is line 31 {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :client=>"re_portal_prefs_1", :ottoken=>"d426c45d55579c02e0fbcd7ed4e7e376da00fcb0e50e451c6382456cb1bf08a7 re_portal_prefs_1 1404419655908", :action=>"get", :controller=>"notification_preferences"}
I, [2014-07-03T16:34:16.024857 #8399]  INFO -- : Response: 200 text/json {:data=>#<Hashie::Mash assetclass=["C"] investments=#<Hashie::Mash maximum="60000" minimum="50001"> states=["Arizona", "Indiana"]>}
I, [2014-07-03T16:34:20.285361 #8399]  INFO -- : Request: controller:notification_preferences action:update method:put
I, [2014-07-03T16:34:20.285470 #8399]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :data=>"{\"assetclass\":[\"C\"],\"states\":[\"Arizona\",\"Indiana\",\"South Dakota\"],\"investments\":{\"minimum\":\"50001\",\"maximum\":\"60000\"}}"}
I, [2014-07-03T16:34:20.285522 #8399]  INFO -- : update_put
D, [2014-07-03T16:34:20.286107 #8399] DEBUG -- : Query: #<Mysql2::Result:0x007fd9d21363a8> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T16:34:20.286842 #8399] DEBUG -- : Query: #<Mysql2::Result:0x007fd9d2147ec8> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='a00b2fa4abc1641862b045f0619cb0a77515fbfb2e016354b2fd6565beef25e1 re_portal_prefs_1 1404419660282' LIMIT 1
I, [2014-07-03T16:34:20.287179 #8399]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
W, [2014-07-03T16:34:20.287343 #8399]  WARN -- : Error processing request: #<ArgumentError: wrong number of arguments (1 for 0)>
/Users/joshthedudeoflife/re_prefs_svc/lib/environment.rb:35:in `logger'
/Users/joshthedudeoflife/re_prefs_svc/lib/api_models/implementation.rb:55:in `notification_preferences_update_put'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_control.rb:51:in `do_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:205:in `block (5 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:204:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:204:in `block (4 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:199:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:199:in `block (3 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:196:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:196:in `block (2 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:195:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:195:in `block in process_http_request'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/eventmachine-1.0.3/lib/eventmachine.rb:1037:in `call'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/eventmachine-1.0.3/lib/eventmachine.rb:1037:in `block in spawn_threadpool'
I, [2014-07-03T16:35:07.288124 #8461]  INFO -- : Started running (KeepBusy): Log file: /Users/joshthedudeoflife/re_prefs_svc/log/run.log
I, [2014-07-03T16:35:08.549895 #8461]  INFO -- : Request: controller:notification_preferences action:get method:get
I, [2014-07-03T16:35:08.550240 #8461]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg"}
I, [2014-07-03T16:35:08.550299 #8461]  INFO -- : get_get
D, [2014-07-03T16:35:08.575232 #8461] DEBUG -- : Query: #<Mysql2::Result:0x007fd872043ee8> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T16:35:08.575989 #8461] DEBUG -- : Query: #<Mysql2::Result:0x007fd872040608> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='0dfd61e0a79a462422f8c44a78b3289a8515c90c8e17fd35ccf645882f400498 re_portal_prefs_1 1404419708513' LIMIT 1
I, [2014-07-03T16:35:08.576396 #8461]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T16:35:08.576504 #8461]  INFO -- : this is line 31 {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :client=>"re_portal_prefs_1", :ottoken=>"0dfd61e0a79a462422f8c44a78b3289a8515c90c8e17fd35ccf645882f400498 re_portal_prefs_1 1404419708513", :action=>"get", :controller=>"notification_preferences"}
I, [2014-07-03T16:35:08.593483 #8461]  INFO -- : Response: 200 text/json {:data=>#<Hashie::Mash assetclass=["C"] investments=#<Hashie::Mash maximum="60000" minimum="50001"> states=["Arizona", "Indiana"]>}
I, [2014-07-03T16:35:13.016665 #8461]  INFO -- : Request: controller:notification_preferences action:update method:put
I, [2014-07-03T16:35:13.016778 #8461]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :data=>"{\"assetclass\":[\"C\"],\"states\":[\"Arizona\",\"Indiana\",\"Washington\"],\"investments\":{\"minimum\":\"50001\",\"maximum\":\"60000\"}}"}
I, [2014-07-03T16:35:13.016831 #8461]  INFO -- : update_put
D, [2014-07-03T16:35:13.017438 #8461] DEBUG -- : Query: #<Mysql2::Result:0x007fd8721360a8> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T16:35:13.018009 #8461] DEBUG -- : Query: #<Mysql2::Result:0x007fd872147d30> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='73c7aae8be8e535410610527b05c7f3cf273ea016d39814cf4e7d9b3420907e8 re_portal_prefs_1 1404419713014' LIMIT 1
I, [2014-07-03T16:35:13.018306 #8461]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T16:35:13.018393 #8461]  INFO -- : 0DkvQ4w6TCOaqHGRJyEOqg
I, [2014-07-03T16:35:13.018478 #8461]  INFO -- : Response: 200 text/json {}
I, [2014-07-03T16:36:02.862794 #8527]  INFO -- : Started running (KeepBusy): Log file: /Users/joshthedudeoflife/re_prefs_svc/log/run.log
I, [2014-07-03T16:36:05.974129 #8527]  INFO -- : Request: controller:notification_preferences action:get method:get
I, [2014-07-03T16:36:05.974335 #8527]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg"}
I, [2014-07-03T16:36:05.974400 #8527]  INFO -- : get_get
D, [2014-07-03T16:36:05.992453 #8527] DEBUG -- : Query: #<Mysql2::Result:0x007fc1b2843b10> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T16:36:05.994856 #8527] DEBUG -- : Query: #<Mysql2::Result:0x007fc1b28402f8> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='d69ddb08718024fe95adf8d91b0737a1f04b1c2567889a3edcc82c402d0f6a71 re_portal_prefs_1 1404419765938' LIMIT 1
I, [2014-07-03T16:36:05.995492 #8527]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T16:36:05.995613 #8527]  INFO -- : this is line 31 {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :client=>"re_portal_prefs_1", :ottoken=>"d69ddb08718024fe95adf8d91b0737a1f04b1c2567889a3edcc82c402d0f6a71 re_portal_prefs_1 1404419765938", :action=>"get", :controller=>"notification_preferences"}
I, [2014-07-03T16:36:06.007235 #8527]  INFO -- : Response: 200 text/json {:data=>#<Hashie::Mash assetclass=["C"] investments=#<Hashie::Mash maximum="60000" minimum="50001"> states=["Arizona", "Indiana"]>}
I, [2014-07-03T16:36:10.258051 #8527]  INFO -- : Request: controller:notification_preferences action:update method:put
I, [2014-07-03T16:36:10.258264 #8527]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :data=>"{\"assetclass\":[\"C\"],\"states\":[\"Arizona\",\"Indiana\",\"Ohio\"],\"investments\":{\"minimum\":\"50001\",\"maximum\":\"60000\"}}"}
I, [2014-07-03T16:36:10.258320 #8527]  INFO -- : update_put
D, [2014-07-03T16:36:10.259527 #8527] DEBUG -- : Query: #<Mysql2::Result:0x007fc1b2936298> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T16:36:10.260286 #8527] DEBUG -- : Query: #<Mysql2::Result:0x007fc1b2947a48> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='ce033b0a9c1e62bf40ad3a4ead380eceb39a49bcb92473deba3ed638de909c89 re_portal_prefs_1 1404419770254' LIMIT 1
I, [2014-07-03T16:36:10.261005 #8527]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T16:36:10.261086 #8527]  INFO -- : {"assetclass":["C"],"states":["Arizona","Indiana","Ohio"],"investments":{"minimum":"50001","maximum":"60000"}}
I, [2014-07-03T16:36:10.261578 #8527]  INFO -- : Response: 200 text/json {}
I, [2014-07-03T16:37:06.682541 #8607]  INFO -- : Started running (KeepBusy): Log file: /Users/joshthedudeoflife/re_prefs_svc/log/run.log
I, [2014-07-03T16:37:08.091694 #8607]  INFO -- : Request: controller:notification_preferences action:get method:get
I, [2014-07-03T16:37:08.091928 #8607]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg"}
I, [2014-07-03T16:37:08.092263 #8607]  INFO -- : get_get
D, [2014-07-03T16:37:08.109244 #8607] DEBUG -- : Query: #<Mysql2::Result:0x007fc830843af0> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T16:37:08.114464 #8607] DEBUG -- : Query: #<Mysql2::Result:0x007fc8308402d8> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='7fcdc02a623eb6cc66b7002b8f81f6336d11ae5894ddab5984235f61d50fe932 re_portal_prefs_1 1404419828053' LIMIT 1
I, [2014-07-03T16:37:08.115337 #8607]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T16:37:08.115501 #8607]  INFO -- : this is line 31 {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :client=>"re_portal_prefs_1", :ottoken=>"7fcdc02a623eb6cc66b7002b8f81f6336d11ae5894ddab5984235f61d50fe932 re_portal_prefs_1 1404419828053", :action=>"get", :controller=>"notification_preferences"}
I, [2014-07-03T16:37:08.126238 #8607]  INFO -- : Response: 200 text/json {:data=>#<Hashie::Mash assetclass=["C"] investments=#<Hashie::Mash maximum="60000" minimum="50001"> states=["Arizona", "Indiana"]>}
I, [2014-07-03T16:37:12.498137 #8607]  INFO -- : Request: controller:notification_preferences action:update method:put
I, [2014-07-03T16:37:12.498242 #8607]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :data=>"{\"assetclass\":[\"C\"],\"states\":[\"Arizona\",\"Indiana\",\"Virginia\"],\"investments\":{\"minimum\":\"50001\",\"maximum\":\"60000\"}}"}
I, [2014-07-03T16:37:12.498294 #8607]  INFO -- : update_put
D, [2014-07-03T16:37:12.498954 #8607] DEBUG -- : Query: #<Mysql2::Result:0x007fc831866180> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T16:37:12.499562 #8607] DEBUG -- : Query: #<Mysql2::Result:0x007fc831877b38> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='8a150b0a0e0d3597b479fbc8fa6f7ec8f2568f5dd60803402b5828e26d8c9492 re_portal_prefs_1 1404419832495' LIMIT 1
I, [2014-07-03T16:37:12.499889 #8607]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
W, [2014-07-03T16:37:12.500052 #8607]  WARN -- : Error processing request: #<TypeError: no implicit conversion of Symbol into Integer>
/Users/joshthedudeoflife/re_prefs_svc/lib/api_models/implementation.rb:55:in `[]'
/Users/joshthedudeoflife/re_prefs_svc/lib/api_models/implementation.rb:55:in `notification_preferences_update_put'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_control.rb:51:in `do_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:205:in `block (5 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:204:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:204:in `block (4 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:199:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:199:in `block (3 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:196:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:196:in `block (2 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:195:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:195:in `block in process_http_request'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/eventmachine-1.0.3/lib/eventmachine.rb:1037:in `call'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/eventmachine-1.0.3/lib/eventmachine.rb:1037:in `block in spawn_threadpool'
I, [2014-07-03T16:38:16.507465 #8701]  INFO -- : Started running (KeepBusy): Log file: /Users/joshthedudeoflife/re_prefs_svc/log/run.log
I, [2014-07-03T16:38:18.946692 #8701]  INFO -- : Request: controller:notification_preferences action:get method:get
I, [2014-07-03T16:38:18.946848 #8701]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg"}
I, [2014-07-03T16:38:18.946906 #8701]  INFO -- : get_get
D, [2014-07-03T16:38:18.978507 #8701] DEBUG -- : Query: #<Mysql2::Result:0x007fb483043ed8> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T16:38:18.982754 #8701] DEBUG -- : Query: #<Mysql2::Result:0x007fb4830405f8> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='75cc8c1337aa438acb8636ec16b92bbe9cd886b973aada304a9be5f425f1e4fe re_portal_prefs_1 1404419898912' LIMIT 1
I, [2014-07-03T16:38:18.983466 #8701]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T16:38:18.983726 #8701]  INFO -- : this is line 31 {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :client=>"re_portal_prefs_1", :ottoken=>"75cc8c1337aa438acb8636ec16b92bbe9cd886b973aada304a9be5f425f1e4fe re_portal_prefs_1 1404419898912", :action=>"get", :controller=>"notification_preferences"}
I, [2014-07-03T16:38:19.001427 #8701]  INFO -- : Response: 200 text/json {:data=>#<Hashie::Mash assetclass=["C"] investments=#<Hashie::Mash maximum="60000" minimum="50001"> states=["Arizona", "Indiana"]>}
I, [2014-07-03T16:38:23.289136 #8701]  INFO -- : Request: controller:notification_preferences action:update method:put
I, [2014-07-03T16:38:23.289245 #8701]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :data=>"{\"assetclass\":[\"C\"],\"states\":[\"Arizona\",\"Indiana\",\"Washington\"],\"investments\":{\"minimum\":\"50001\",\"maximum\":\"60000\"}}"}
I, [2014-07-03T16:38:23.289300 #8701]  INFO -- : update_put
D, [2014-07-03T16:38:23.289864 #8701] DEBUG -- : Query: #<Mysql2::Result:0x007fb4838663b8> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T16:38:23.290501 #8701] DEBUG -- : Query: #<Mysql2::Result:0x007fb483877c30> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='edef3bb6b4165e65bf99a5924e41278a51b2539d27bd97d61699bd6015597900 re_portal_prefs_1 1404419903285' LIMIT 1
I, [2014-07-03T16:38:23.290847 #8701]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T16:38:23.290923 #8701]  INFO -- : 0DkvQ4w6TCOaqHGRJyEOqg
I, [2014-07-03T16:38:23.291012 #8701]  INFO -- : Response: 200 text/json {}
I, [2014-07-03T16:40:41.561741 #8834]  INFO -- : Started running (KeepBusy): Log file: /Users/joshthedudeoflife/re_prefs_svc/log/run.log
I, [2014-07-03T16:40:48.940587 #8834]  INFO -- : Request: controller:notification_preferences action:get method:get
I, [2014-07-03T16:40:48.940738 #8834]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg"}
I, [2014-07-03T16:40:48.940796 #8834]  INFO -- : get_get
D, [2014-07-03T16:40:48.966130 #8834] DEBUG -- : Query: #<Mysql2::Result:0x007fe371043b00> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T16:40:48.968263 #8834] DEBUG -- : Query: #<Mysql2::Result:0x007fe3710402e8> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='63f0e0b35a40a5706f4aee56c89bf70e0ee7d8b39b9f88272a6592835f3d06a9 re_portal_prefs_1 1404420048904' LIMIT 1
I, [2014-07-03T16:40:48.969041 #8834]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T16:40:48.969207 #8834]  INFO -- : this is line 31 {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :client=>"re_portal_prefs_1", :ottoken=>"63f0e0b35a40a5706f4aee56c89bf70e0ee7d8b39b9f88272a6592835f3d06a9 re_portal_prefs_1 1404420048904", :action=>"get", :controller=>"notification_preferences"}
I, [2014-07-03T16:40:48.986442 #8834]  INFO -- : Response: 200 text/json {:data=>#<Hashie::Mash assetclass=["C"] investments=#<Hashie::Mash maximum="60000" minimum="50001"> states=["Arizona", "Indiana"]>}
I, [2014-07-03T16:40:56.592186 #8834]  INFO -- : Request: controller:notification_preferences action:update method:put
I, [2014-07-03T16:40:56.592306 #8834]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :data=>"{\"assetclass\":[\"C\"],\"states\":[\"Arizona\",\"Indiana\",\"Rhode Island\"],\"investments\":{\"minimum\":\"50001\",\"maximum\":\"60000\"}}"}
I, [2014-07-03T16:40:56.592360 #8834]  INFO -- : update_put
D, [2014-07-03T16:40:56.592971 #8834] DEBUG -- : Query: #<Mysql2::Result:0x007fe37186a270> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T16:40:56.593638 #8834] DEBUG -- : Query: #<Mysql2::Result:0x007fe37187ba48> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='c8f0a52dd858030de445ca2b6b4e29e2bf98a10ddad0bf62184022ba49363139 re_portal_prefs_1 1404420056589' LIMIT 1
I, [2014-07-03T16:40:56.593970 #8834]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T16:40:56.594029 #8834]  INFO -- : 0DkvQ4w6TCOaqHGRJyEOqg
I, [2014-07-03T16:40:56.594065 #8834]  INFO -- : {"assetclass":["C"],"states":["Arizona","Indiana","Rhode Island"],"investments":{"minimum":"50001","maximum":"60000"}}
I, [2014-07-03T16:40:56.594332 #8834]  INFO -- : Response: 200 text/json {}
I, [2014-07-03T16:43:03.957918 #8952]  INFO -- : Started running (KeepBusy): Log file: /Users/joshthedudeoflife/re_prefs_svc/log/run.log
I, [2014-07-03T16:43:07.783755 #8952]  INFO -- : Request: controller:notification_preferences action:get method:get
I, [2014-07-03T16:43:07.783944 #8952]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg"}
I, [2014-07-03T16:43:07.789816 #8952]  INFO -- : get_get
D, [2014-07-03T16:43:07.816267 #8952] DEBUG -- : Query: #<Mysql2::Result:0x007ff292843af0> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T16:43:07.818385 #8952] DEBUG -- : Query: #<Mysql2::Result:0x007ff2928402d8> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='258d0f1dac9a47de55a71dd3d145b1cd8d7a12366e0408907bae806aeaca07cb re_portal_prefs_1 1404420187740' LIMIT 1
I, [2014-07-03T16:43:07.819331 #8952]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T16:43:07.819477 #8952]  INFO -- : this is line 31 {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :client=>"re_portal_prefs_1", :ottoken=>"258d0f1dac9a47de55a71dd3d145b1cd8d7a12366e0408907bae806aeaca07cb re_portal_prefs_1 1404420187740", :action=>"get", :controller=>"notification_preferences"}
I, [2014-07-03T16:43:07.831849 #8952]  INFO -- : Response: 200 text/json {:data=>#<Hashie::Mash assetclass=["C"] investments=#<Hashie::Mash maximum="60000" minimum="50001"> states=["Arizona", "Indiana"]>}
I, [2014-07-03T16:43:11.564261 #8952]  INFO -- : Request: controller:notification_preferences action:update method:put
I, [2014-07-03T16:43:11.564374 #8952]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :data=>"{\"assetclass\":[\"C\"],\"states\":[\"Arizona\",\"Indiana\",\"Utah\"],\"investments\":{\"minimum\":\"50001\",\"maximum\":\"60000\"}}"}
I, [2014-07-03T16:43:11.564425 #8952]  INFO -- : update_put
D, [2014-07-03T16:43:11.564976 #8952] DEBUG -- : Query: #<Mysql2::Result:0x007ff29306a198> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T16:43:11.565473 #8952] DEBUG -- : Query: #<Mysql2::Result:0x007ff29307bab0> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='e8f341e77eb4c422951ac9df05a028b4af8b6f2ba43a46c756ffca97b4e31000 re_portal_prefs_1 1404420191561' LIMIT 1
I, [2014-07-03T16:43:11.565761 #8952]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T16:43:11.565819 #8952]  INFO -- : 0DkvQ4w6TCOaqHGRJyEOqg
I, [2014-07-03T16:43:11.565855 #8952]  INFO -- : {"assetclass":["C"],"states":["Arizona","Indiana","Utah"],"investments":{"minimum":"50001","maximum":"60000"}}
W, [2014-07-03T16:43:11.565990 #8952]  WARN -- : Error processing request: #<ArgumentError: wrong number of arguments (1 for 2)>
/Users/joshthedudeoflife/re_prefs_svc/lib/api_models/implementation.rb:77:in `put_to_es'
/Users/joshthedudeoflife/re_prefs_svc/lib/api_models/implementation.rb:59:in `notification_preferences_update_put'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_control.rb:51:in `do_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:205:in `block (5 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:204:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:204:in `block (4 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:199:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:199:in `block (3 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:196:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:196:in `block (2 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:195:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:195:in `block in process_http_request'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/eventmachine-1.0.3/lib/eventmachine.rb:1037:in `call'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/eventmachine-1.0.3/lib/eventmachine.rb:1037:in `block in spawn_threadpool'
I, [2014-07-03T16:44:33.741638 #9047]  INFO -- : Started running (KeepBusy): Log file: /Users/joshthedudeoflife/re_prefs_svc/log/run.log
I, [2014-07-03T16:44:36.218168 #9047]  INFO -- : Request: controller:notification_preferences action:get method:get
I, [2014-07-03T16:44:36.218313 #9047]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg"}
I, [2014-07-03T16:44:36.218367 #9047]  INFO -- : get_get
D, [2014-07-03T16:44:36.242408 #9047] DEBUG -- : Query: #<Mysql2::Result:0x007fd5d2843af0> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T16:44:36.244153 #9047] DEBUG -- : Query: #<Mysql2::Result:0x007fd5d28402d8> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='06d352389008ae2cd0405e5b86b0def5ee32e386dfe55648ffd3bc9e446c8275 re_portal_prefs_1 1404420276172' LIMIT 1
I, [2014-07-03T16:44:36.244751 #9047]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T16:44:36.244864 #9047]  INFO -- : this is line 31 {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :client=>"re_portal_prefs_1", :ottoken=>"06d352389008ae2cd0405e5b86b0def5ee32e386dfe55648ffd3bc9e446c8275 re_portal_prefs_1 1404420276172", :action=>"get", :controller=>"notification_preferences"}
I, [2014-07-03T16:44:36.259136 #9047]  INFO -- : Response: 200 text/json {:data=>#<Hashie::Mash assetclass=["C"] investments=#<Hashie::Mash maximum="60000" minimum="50001"> states=["Arizona", "Indiana"]>}
I, [2014-07-03T16:44:49.809792 #9047]  INFO -- : Request: controller:notification_preferences action:update method:put
I, [2014-07-03T16:44:49.809893 #9047]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :data=>"{\"assetclass\":[\"C\"],\"states\":[\"Arizona\",\"Indiana\",\"Vermont\"],\"investments\":{\"minimum\":\"50001\",\"maximum\":\"60000\"}}"}
I, [2014-07-03T16:44:49.809944 #9047]  INFO -- : update_put
D, [2014-07-03T16:44:49.810515 #9047] DEBUG -- : Query: #<Mysql2::Result:0x007fd5d306a198> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T16:44:49.811082 #9047] DEBUG -- : Query: #<Mysql2::Result:0x007fd5d307bb50> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='77029691ec99c087c8a214fc2c4465adb09a5569c1191a9d9670a4c733175afa re_portal_prefs_1 1404420289807' LIMIT 1
I, [2014-07-03T16:44:49.811396 #9047]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T16:44:49.811457 #9047]  INFO -- : 0DkvQ4w6TCOaqHGRJyEOqg
W, [2014-07-03T16:44:49.811602 #9047]  WARN -- : Error processing request: #<ArgumentError: wrong number of arguments (1 for 2)>
/Users/joshthedudeoflife/re_prefs_svc/lib/api_models/implementation.rb:77:in `put_to_es'
/Users/joshthedudeoflife/re_prefs_svc/lib/api_models/implementation.rb:58:in `notification_preferences_update_put'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_control.rb:51:in `do_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:205:in `block (5 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:204:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:204:in `block (4 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:199:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:199:in `block (3 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:196:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:196:in `block (2 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:195:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:195:in `block in process_http_request'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/eventmachine-1.0.3/lib/eventmachine.rb:1037:in `call'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/eventmachine-1.0.3/lib/eventmachine.rb:1037:in `block in spawn_threadpool'
I, [2014-07-03T16:45:44.475139 #9062]  INFO -- : Started running (KeepBusy): Log file: /Users/joshthedudeoflife/re_prefs_svc/log/run.log
I, [2014-07-03T16:45:47.913038 #9062]  INFO -- : Request: controller:notification_preferences action:get method:get
I, [2014-07-03T16:45:47.913188 #9062]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg"}
I, [2014-07-03T16:45:47.913265 #9062]  INFO -- : get_get
D, [2014-07-03T16:45:47.932446 #9062] DEBUG -- : Query: #<Mysql2::Result:0x007fa1fb043b58> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T16:45:47.934368 #9062] DEBUG -- : Query: #<Mysql2::Result:0x007fa1fb040318> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='8b6770ebc633bd5db413759ea2dadd9fa8e53093faa99cbec686f71d869af26e re_portal_prefs_1 1404420347874' LIMIT 1
I, [2014-07-03T16:45:47.935047 #9062]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T16:45:47.935319 #9062]  INFO -- : this is line 31 {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :client=>"re_portal_prefs_1", :ottoken=>"8b6770ebc633bd5db413759ea2dadd9fa8e53093faa99cbec686f71d869af26e re_portal_prefs_1 1404420347874", :action=>"get", :controller=>"notification_preferences"}
I, [2014-07-03T16:45:47.954260 #9062]  INFO -- : Response: 200 text/json {:data=>#<Hashie::Mash assetclass=["C"] investments=#<Hashie::Mash maximum="60000" minimum="50001"> states=["Arizona", "Indiana"]>}
I, [2014-07-03T16:45:51.699387 #9062]  INFO -- : Request: controller:notification_preferences action:update method:put
I, [2014-07-03T16:45:51.699552 #9062]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :data=>"{\"assetclass\":[\"C\"],\"states\":[\"Arizona\",\"Indiana\",\"Rhode Island\"],\"investments\":{\"minimum\":\"50001\",\"maximum\":\"60000\"}}"}
I, [2014-07-03T16:45:51.699604 #9062]  INFO -- : update_put
D, [2014-07-03T16:45:51.700184 #9062] DEBUG -- : Query: #<Mysql2::Result:0x007fa1fb86a200> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T16:45:51.700713 #9062] DEBUG -- : Query: #<Mysql2::Result:0x007fa1fb87ba00> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='89db7dd814fe1a21839044d31aab640bb30f0af390d109b86f1c214df5d4b65d re_portal_prefs_1 1404420351695' LIMIT 1
I, [2014-07-03T16:45:51.701030 #9062]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T16:45:51.701126 #9062]  INFO -- : 0DkvQ4w6TCOaqHGRJyEOqg
W, [2014-07-03T16:45:51.701590 #9062]  WARN -- : Error processing request: #<URI::InvalidURIError: bad URI(is not URI?): http://127.0.0.1:9200/keepbusy_user_preferences/user_preference/{"assetclass":["C"],"states":["Arizona","Indiana","Rhode Island"],"investments":{"minimum":"50001","maximum":"60000"}}>
/Users/joshthedudeoflife/.rvm/rubies/ruby-2.0.0-p353/lib/ruby/2.0.0/uri/generic.rb:1203:in `rescue in merge'
/Users/joshthedudeoflife/.rvm/rubies/ruby-2.0.0-p353/lib/ruby/2.0.0/uri/generic.rb:1200:in `merge'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/faraday-0.8.9/lib/faraday/connection.rb:303:in `build_exclusive_url'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/faraday-0.8.9/lib/faraday/request.rb:94:in `to_env'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/stretcher-1.21.0/lib/stretcher/server.rb:226:in `block in request'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/stretcher-1.21.0/lib/stretcher/server.rb:225:in `synchronize'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/stretcher-1.21.0/lib/stretcher/server.rb:225:in `request'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/stretcher-1.21.0/lib/stretcher/es_component.rb:31:in `request'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/stretcher-1.21.0/lib/stretcher/index_type.rb:50:in `put'
/Users/joshthedudeoflife/re_prefs_svc/lib/api_models/implementation.rb:77:in `put_to_es'
/Users/joshthedudeoflife/re_prefs_svc/lib/api_models/implementation.rb:58:in `notification_preferences_update_put'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_control.rb:51:in `do_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:205:in `block (5 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:204:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:204:in `block (4 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:199:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:199:in `block (3 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:196:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:196:in `block (2 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:195:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:195:in `block in process_http_request'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/eventmachine-1.0.3/lib/eventmachine.rb:1037:in `call'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/eventmachine-1.0.3/lib/eventmachine.rb:1037:in `block in spawn_threadpool'
I, [2014-07-03T16:50:19.388510 #9094]  INFO -- : Started running (KeepBusy): Log file: /Users/joshthedudeoflife/re_prefs_svc/log/run.log
I, [2014-07-03T16:50:21.290352 #9094]  INFO -- : Request: controller:notification_preferences action:get method:get
I, [2014-07-03T16:50:21.290530 #9094]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg"}
I, [2014-07-03T16:50:21.290590 #9094]  INFO -- : get_get
D, [2014-07-03T16:50:21.329713 #9094] DEBUG -- : Query: #<Mysql2::Result:0x007fd0ea043b58> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T16:50:21.336363 #9094] DEBUG -- : Query: #<Mysql2::Result:0x007fd0ea040318> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='ca1dc2171ab77167cc8d370e260d0ab74223d306be991d2bfe79227deab15c2d re_portal_prefs_1 1404420621241' LIMIT 1
I, [2014-07-03T16:50:21.337243 #9094]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T16:50:21.337696 #9094]  INFO -- : this is line 31 {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :client=>"re_portal_prefs_1", :ottoken=>"ca1dc2171ab77167cc8d370e260d0ab74223d306be991d2bfe79227deab15c2d re_portal_prefs_1 1404420621241", :action=>"get", :controller=>"notification_preferences"}
I, [2014-07-03T16:50:21.370584 #9094]  INFO -- : Response: 200 text/json {:data=>#<Hashie::Mash assetclass=["C"] investments=#<Hashie::Mash maximum="60000" minimum="50001"> states=["Arizona", "Indiana"]>}
I, [2014-07-03T16:50:25.278807 #9094]  INFO -- : Request: controller:notification_preferences action:update method:put
I, [2014-07-03T16:50:25.278922 #9094]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :data=>"{\"assetclass\":[\"C\"],\"states\":[\"Arizona\",\"Indiana\",\"Wyoming\"],\"investments\":{\"minimum\":\"50001\",\"maximum\":\"60000\"}}"}
I, [2014-07-03T16:50:25.278977 #9094]  INFO -- : update_put
D, [2014-07-03T16:50:25.279602 #9094] DEBUG -- : Query: #<Mysql2::Result:0x007fd0eb056248> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T16:50:25.280179 #9094] DEBUG -- : Query: #<Mysql2::Result:0x007fd0eb067ae8> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='039f2fea081b92a97ba1fb77af5d9b7ba2e8d823e4ae6c1776cc98f7fcab292c re_portal_prefs_1 1404420625275' LIMIT 1
I, [2014-07-03T16:50:25.280545 #9094]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T16:50:25.280610 #9094]  INFO -- : 0DkvQ4w6TCOaqHGRJyEOqg
I, [2014-07-03T16:50:25.289240 #9094]  INFO -- : Response: 200 text/json {:data=>#<Hashie::Mash _id="0DkvQ4w6TCOaqHGRJyEOqg" _index="keepbusy_user_preferences" _type="user_preference" _version=2 created=false>}
I, [2014-07-03T16:50:57.329601 #9094]  INFO -- : Request: controller:notification_preferences action:update method:put
I, [2014-07-03T16:50:57.329729 #9094]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :data=>"{\"assetclass\":[\"C\"],\"states\":[\"Arizona\",\"Indiana\",\"Wyoming\"],\"investments\":{\"minimum\":\"50001\",\"maximum\":\"60000\"}}"}
I, [2014-07-03T16:50:57.329784 #9094]  INFO -- : update_put
D, [2014-07-03T16:50:57.330427 #9094] DEBUG -- : Query: #<Mysql2::Result:0x007fd0eb0954e8> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T16:50:57.331049 #9094] DEBUG -- : Query: #<Mysql2::Result:0x007fd0eb0afc08> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='322dcb23cf453c1d067646e8310df925519c000cf9659354643ae44f6a4270e0 re_portal_prefs_1 1404420657327' LIMIT 1
I, [2014-07-03T16:50:57.331362 #9094]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T16:50:57.331412 #9094]  INFO -- : 0DkvQ4w6TCOaqHGRJyEOqg
I, [2014-07-03T16:50:57.338941 #9094]  INFO -- : Response: 200 text/json {:data=>#<Hashie::Mash _id="0DkvQ4w6TCOaqHGRJyEOqg" _index="keepbusy_user_preferences" _type="user_preference" _version=3 created=false>}
I, [2014-07-03T16:54:04.162863 #9094]  INFO -- : Request: controller:notification_preferences action:get method:get
I, [2014-07-03T16:54:04.162967 #9094]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg"}
I, [2014-07-03T16:54:04.163018 #9094]  INFO -- : get_get
D, [2014-07-03T16:54:04.163589 #9094] DEBUG -- : Query: #<Mysql2::Result:0x007fd0eb0e7310> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T16:54:04.166541 #9094] DEBUG -- : Query: #<Mysql2::Result:0x007fd0eb0ef880> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='604aa0389901ab9e161a43985e4d3470a4ad5725f791f389036080f4e3651a2c re_portal_prefs_1 1404420844159' LIMIT 1
I, [2014-07-03T16:54:04.170446 #9094]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T16:54:04.170594 #9094]  INFO -- : this is line 31 {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :client=>"re_portal_prefs_1", :ottoken=>"604aa0389901ab9e161a43985e4d3470a4ad5725f791f389036080f4e3651a2c re_portal_prefs_1 1404420844159", :action=>"get", :controller=>"notification_preferences"}
I, [2014-07-03T16:54:04.179408 #9094]  INFO -- : Response: 200 text/json {:data=>#<Hashie::Mash assetclass=["C"] investments=#<Hashie::Mash maximum="60000" minimum="50001"> states=["Arizona", "Indiana", "Wyoming"]>}
I, [2014-07-03T16:54:07.509336 #9094]  INFO -- : Request: controller:notification_preferences action:update method:put
I, [2014-07-03T16:54:07.509474 #9094]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :data=>"{\"assetclass\":[\"C\"],\"states\":[\"Arizona\",\"Indiana\",\"Wyoming\"],\"investments\":{\"minimum\":\"50001\",\"maximum\":\"60000\"}}"}
I, [2014-07-03T16:54:07.509840 #9094]  INFO -- : update_put
D, [2014-07-03T16:54:07.510518 #9094] DEBUG -- : Query: #<Mysql2::Result:0x007fd0ea1042b8> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T16:54:07.511060 #9094] DEBUG -- : Query: #<Mysql2::Result:0x007fd0eb13fa10> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='e2a2f7e6594d6c99261889428d4145d0583c89eec09834061c5dea7afe281599 re_portal_prefs_1 1404420847506' LIMIT 1
I, [2014-07-03T16:54:07.511346 #9094]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T16:54:07.511520 #9094]  INFO -- : 0DkvQ4w6TCOaqHGRJyEOqg
I, [2014-07-03T16:54:07.517745 #9094]  INFO -- : Response: 200 text/json {:data=>#<Hashie::Mash _id="0DkvQ4w6TCOaqHGRJyEOqg" _index="keepbusy_user_preferences" _type="user_preference" _version=4 created=false>}
I, [2014-07-03T16:56:29.429176 #9094]  INFO -- : Request: controller:notification_preferences action:get method:get
I, [2014-07-03T16:56:29.429305 #9094]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg"}
I, [2014-07-03T16:56:29.429359 #9094]  INFO -- : get_get
D, [2014-07-03T16:56:29.430191 #9094] DEBUG -- : Query: #<Mysql2::Result:0x007fd0eb165be8> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T16:56:29.441505 #9094] DEBUG -- : Query: #<Mysql2::Result:0x007fd0eb16d320> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='255f564169808c4bc3c623ecb5af8302831c5aea04e4c077b91e46ef5344eec8 re_portal_prefs_1 1404420989416' LIMIT 1
I, [2014-07-03T16:56:29.441999 #9094]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T16:56:29.442158 #9094]  INFO -- : this is line 31 {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :client=>"re_portal_prefs_1", :ottoken=>"255f564169808c4bc3c623ecb5af8302831c5aea04e4c077b91e46ef5344eec8 re_portal_prefs_1 1404420989416", :action=>"get", :controller=>"notification_preferences"}
I, [2014-07-03T16:56:29.447299 #9094]  INFO -- : Response: 200 text/json {:data=>#<Hashie::Mash assetclass=["C"] investments=#<Hashie::Mash maximum="60000" minimum="50001"> states=["Arizona", "Indiana", "Wyoming"]>}
I, [2014-07-03T16:56:31.948445 #9094]  INFO -- : Request: controller:notification_preferences action:update method:put
I, [2014-07-03T16:56:31.948606 #9094]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :data=>"{\"assetclass\":[\"C\"],\"states\":[\"Arizona\",\"Indiana\",\"Wyoming\"],\"investments\":{\"minimum\":\"50001\",\"maximum\":\"60000\"}}"}
I, [2014-07-03T16:56:31.948661 #9094]  INFO -- : update_put
D, [2014-07-03T16:56:31.949506 #9094] DEBUG -- : Query: #<Mysql2::Result:0x007fd0eb235d70> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T16:56:31.955804 #9094] DEBUG -- : Query: #<Mysql2::Result:0x007fd0eb2539b0> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='26b4f8334505a30ef148118a65392d2fcf8c53132807faddd5422ad641eda58f re_portal_prefs_1 1404420991944' LIMIT 1
I, [2014-07-03T16:56:31.957045 #9094]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T16:56:31.957138 #9094]  INFO -- : 0DkvQ4w6TCOaqHGRJyEOqg
I, [2014-07-03T16:56:31.972030 #9094]  INFO -- : Response: 200 text/json {:data=>#<Hashie::Mash _id="0DkvQ4w6TCOaqHGRJyEOqg" _index="keepbusy_user_preferences" _type="user_preference" _version=5 created=false>}
I, [2014-07-03T16:57:52.557050 #9094]  INFO -- : Request: controller:notification_preferences action:get method:get
I, [2014-07-03T16:57:52.557190 #9094]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg"}
I, [2014-07-03T16:57:52.557243 #9094]  INFO -- : get_get
D, [2014-07-03T16:57:52.557964 #9094] DEBUG -- : Query: #<Mysql2::Result:0x007fd0eb2794f8> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T16:57:52.558870 #9094] DEBUG -- : Query: #<Mysql2::Result:0x007fd0eb285ca8> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='cf42281abb78b505831a845e4083096c33f3d98d24fa5983ed1ede6a705e90d2 re_portal_prefs_1 1404421072550' LIMIT 1
I, [2014-07-03T16:57:52.559383 #9094]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T16:57:52.559479 #9094]  INFO -- : this is line 31 {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :client=>"re_portal_prefs_1", :ottoken=>"cf42281abb78b505831a845e4083096c33f3d98d24fa5983ed1ede6a705e90d2 re_portal_prefs_1 1404421072550", :action=>"get", :controller=>"notification_preferences"}
I, [2014-07-03T16:57:52.569727 #9094]  INFO -- : Response: 200 text/json {:data=>#<Hashie::Mash assetclass=["C"] investments=#<Hashie::Mash maximum="60000" minimum="50001"> states=["Arizona", "Indiana", "Wyoming"]>}
I, [2014-07-03T16:57:55.843836 #9094]  INFO -- : Request: controller:notification_preferences action:update method:put
I, [2014-07-03T16:57:55.843942 #9094]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :data=>"{\"assetclass\":[\"C\"],\"states\":[\"Arizona\",\"Indiana\",\"Wyoming\"],\"investments\":{\"minimum\":\"50001\",\"maximum\":\"60000\"}}"}
I, [2014-07-03T16:57:55.843992 #9094]  INFO -- : update_put
D, [2014-07-03T16:57:55.844513 #9094] DEBUG -- : Query: #<Mysql2::Result:0x007fd0eb2c8da0> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T16:57:55.845003 #9094] DEBUG -- : Query: #<Mysql2::Result:0x007fd0ea166198> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='4ff996cef5522f5706001e39f1eec6acba31891425b1538dbec296f99ba45804 re_portal_prefs_1 1404421075840' LIMIT 1
I, [2014-07-03T16:57:55.845284 #9094]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T16:57:55.845337 #9094]  INFO -- : 0DkvQ4w6TCOaqHGRJyEOqg
I, [2014-07-03T16:57:55.851740 #9094]  INFO -- : Response: 200 text/json {:data=>#<Hashie::Mash _id="0DkvQ4w6TCOaqHGRJyEOqg" _index="keepbusy_user_preferences" _type="user_preference" _version=6 created=false>}
I, [2014-07-03T16:59:14.089880 #9094]  INFO -- : Request: controller:notification_preferences action:get method:get
I, [2014-07-03T16:59:14.090015 #9094]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg"}
I, [2014-07-03T16:59:14.090069 #9094]  INFO -- : get_get
D, [2014-07-03T16:59:14.090672 #9094] DEBUG -- : Query: #<Mysql2::Result:0x007fd0ea1c7ee8> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T16:59:14.093265 #9094] DEBUG -- : Query: #<Mysql2::Result:0x007fd0ea1c4298> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='93d0c28dccca61506d574634b28bb34bdd896dd1aa0322477dc3b31b02a769b3 re_portal_prefs_1 1404421154083' LIMIT 1
I, [2014-07-03T16:59:14.093800 #9094]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T16:59:14.093902 #9094]  INFO -- : this is line 31 {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :client=>"re_portal_prefs_1", :ottoken=>"93d0c28dccca61506d574634b28bb34bdd896dd1aa0322477dc3b31b02a769b3 re_portal_prefs_1 1404421154083", :action=>"get", :controller=>"notification_preferences"}
I, [2014-07-03T16:59:14.099435 #9094]  INFO -- : Response: 200 text/json {:data=>#<Hashie::Mash assetclass=["C"] investments=#<Hashie::Mash maximum="60000" minimum="50001"> states=["Arizona", "Indiana", "Wyoming"]>}
I, [2014-07-03T16:59:21.088852 #9094]  INFO -- : Request: controller:notification_preferences action:update method:put
I, [2014-07-03T16:59:21.089587 #9094]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :data=>"{\"assetclass\":[\"C\"],\"states\":[\"Arizona\",\"Indiana\",\"Wisconsin\",\"Wyoming\"],\"investments\":{\"minimum\":\"50001\",\"maximum\":\"60000\"}}"}
I, [2014-07-03T16:59:21.089653 #9094]  INFO -- : update_put
D, [2014-07-03T16:59:21.090584 #9094] DEBUG -- : Query: #<Mysql2::Result:0x007fd0ea1fc850> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T16:59:21.091871 #9094] DEBUG -- : Query: #<Mysql2::Result:0x007fd0ea20e3c0> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='eb78f015b4f5a69b88cda0ade8cff420c911af7e33321698aee0a0ae2ae10764 re_portal_prefs_1 1404421161085' LIMIT 1
I, [2014-07-03T16:59:21.092385 #9094]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T16:59:21.092456 #9094]  INFO -- : 0DkvQ4w6TCOaqHGRJyEOqg
I, [2014-07-03T16:59:21.103531 #9094]  INFO -- : Response: 200 text/json {:data=>#<Hashie::Mash _id="0DkvQ4w6TCOaqHGRJyEOqg" _index="keepbusy_user_preferences" _type="user_preference" _version=7 created=false>}
I, [2014-07-03T17:02:16.247354 #9094]  INFO -- : Request: controller:notification_preferences action:get method:get
I, [2014-07-03T17:02:16.247455 #9094]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg"}
I, [2014-07-03T17:02:16.247503 #9094]  INFO -- : get_get
D, [2014-07-03T17:02:16.248086 #9094] DEBUG -- : Query: #<Mysql2::Result:0x007fd0ea2454b0> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T17:02:16.248559 #9094] DEBUG -- : Query: #<Mysql2::Result:0x007fd0ea24f690> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='57e5102a920483c8eac4623c2c39430bed72b79ca19148c97344450bd3452220 re_portal_prefs_1 1404421336245' LIMIT 1
I, [2014-07-03T17:02:16.248887 #9094]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T17:02:16.248977 #9094]  INFO -- : this is line 31 {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :client=>"re_portal_prefs_1", :ottoken=>"57e5102a920483c8eac4623c2c39430bed72b79ca19148c97344450bd3452220 re_portal_prefs_1 1404421336245", :action=>"get", :controller=>"notification_preferences"}
I, [2014-07-03T17:02:16.265515 #9094]  INFO -- : Response: 200 text/json {:data=>#<Hashie::Mash assetclass=["C"] investments=#<Hashie::Mash maximum="60000" minimum="50001"> states=["Arizona", "Indiana", "Wisconsin", "Wyoming"]>}
I, [2014-07-03T17:02:20.119519 #9094]  INFO -- : Request: controller:notification_preferences action:update method:put
I, [2014-07-03T17:02:20.119650 #9094]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :data=>"{\"assetclass\":[\"C\"],\"states\":[\"Arizona\",\"Indiana\",\"Wisconsin\",\"Wyoming\"],\"investments\":{\"minimum\":\"50001\",\"maximum\":\"60000\"}}"}
I, [2014-07-03T17:02:20.119706 #9094]  INFO -- : update_put
D, [2014-07-03T17:02:20.120550 #9094] DEBUG -- : Query: #<Mysql2::Result:0x007fd0ea245690> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T17:02:20.121247 #9094] DEBUG -- : Query: #<Mysql2::Result:0x007fd0ea236a00> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='9145ee35e41eaa9c67b14088b4665e42a8c9ea96cb67afcbde09055f16214d6d re_portal_prefs_1 1404421340116' LIMIT 1
I, [2014-07-03T17:02:20.121682 #9094]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T17:02:20.121752 #9094]  INFO -- : 0DkvQ4w6TCOaqHGRJyEOqg
I, [2014-07-03T17:02:20.129189 #9094]  INFO -- : Response: 200 text/json {:data=>#<Hashie::Mash _id="0DkvQ4w6TCOaqHGRJyEOqg" _index="keepbusy_user_preferences" _type="user_preference" _version=8 created=false>}
I, [2014-07-03T17:02:20.991812 #9094]  INFO -- : Request: controller:notification_preferences action:get method:get
I, [2014-07-03T17:02:20.991919 #9094]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"null"}
I, [2014-07-03T17:02:20.992028 #9094]  INFO -- : get_get
D, [2014-07-03T17:02:20.993380 #9094] DEBUG -- : Query: #<Mysql2::Result:0x007fd0ea1fe308> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T17:02:20.996736 #9094] DEBUG -- : Query: #<Mysql2::Result:0x007fd0ea1fc468> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='7335da4e3b05026417de8bfe927f69dc63c4ed6e5bb7f311c13cfe24e6ad952c re_portal_prefs_1 1404421340969' LIMIT 1
I, [2014-07-03T17:02:20.997253 #9094]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T17:02:20.997356 #9094]  INFO -- : this is line 31 {:username=>"ABC", :name=>"def", :id=>"null", :client=>"re_portal_prefs_1", :ottoken=>"7335da4e3b05026417de8bfe927f69dc63c4ed6e5bb7f311c13cfe24e6ad952c re_portal_prefs_1 1404421340969", :action=>"get", :controller=>"notification_preferences"}
I, [2014-07-03T17:02:21.010348 #9094]  INFO -- : an error occur in GET #<Stretcher::RequestError::NotFound: Error processing request: (404)! get URL: http://127.0.0.1:9200/keepbusy_user_preferences/user_preference/null
 Resp Body: #<Hashie::Mash _id="null" _index="keepbusy_user_preferences" _type="user_preference" found=false>> /Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/stretcher-1.21.0/lib/stretcher/server.rb:242:in `check_response'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/stretcher-1.21.0/lib/stretcher/server.rb:227:in `block in request'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/stretcher-1.21.0/lib/stretcher/server.rb:225:in `synchronize'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/stretcher-1.21.0/lib/stretcher/server.rb:225:in `request'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/stretcher-1.21.0/lib/stretcher/es_component.rb:31:in `request'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/stretcher-1.21.0/lib/stretcher/index_type.rb:29:in `get'
/Users/joshthedudeoflife/re_prefs_svc/lib/api_models/implementation.rb:72:in `get_from_es'
/Users/joshthedudeoflife/re_prefs_svc/lib/api_models/implementation.rb:37:in `notification_preferences_get_get'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_control.rb:51:in `do_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:205:in `block (5 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:204:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:204:in `block (4 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:199:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:199:in `block (3 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:196:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:196:in `block (2 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:195:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:195:in `block in process_http_request'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/eventmachine-1.0.3/lib/eventmachine.rb:1037:in `call'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/eventmachine-1.0.3/lib/eventmachine.rb:1037:in `block in spawn_threadpool'
I, [2014-07-03T17:02:21.010693 #9094]  INFO -- : Response: 404  
I, [2014-07-03T17:03:45.644148 #9094]  INFO -- : Request: controller:notification_preferences action:get method:get
I, [2014-07-03T17:03:45.644272 #9094]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"null"}
I, [2014-07-03T17:03:45.644322 #9094]  INFO -- : get_get
D, [2014-07-03T17:03:45.645047 #9094] DEBUG -- : Query: #<Mysql2::Result:0x007fd0ea1be5a0> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T17:03:45.645508 #9094] DEBUG -- : Query: #<Mysql2::Result:0x007fd0ea1b68f0> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='688926de79ac96eeb82ae1f39d8e62789f7a76f6c86f2385a3c56cda5303e10d re_portal_prefs_1 1404421425637' LIMIT 1
I, [2014-07-03T17:03:45.645852 #9094]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T17:03:45.645951 #9094]  INFO -- : this is line 31 {:username=>"ABC", :name=>"def", :id=>"null", :client=>"re_portal_prefs_1", :ottoken=>"688926de79ac96eeb82ae1f39d8e62789f7a76f6c86f2385a3c56cda5303e10d re_portal_prefs_1 1404421425637", :action=>"get", :controller=>"notification_preferences"}
I, [2014-07-03T17:03:45.652683 #9094]  INFO -- : an error occur in GET #<Stretcher::RequestError::NotFound: Error processing request: (404)! get URL: http://127.0.0.1:9200/keepbusy_user_preferences/user_preference/null
 Resp Body: #<Hashie::Mash _id="null" _index="keepbusy_user_preferences" _type="user_preference" found=false>> /Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/stretcher-1.21.0/lib/stretcher/server.rb:242:in `check_response'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/stretcher-1.21.0/lib/stretcher/server.rb:227:in `block in request'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/stretcher-1.21.0/lib/stretcher/server.rb:225:in `synchronize'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/stretcher-1.21.0/lib/stretcher/server.rb:225:in `request'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/stretcher-1.21.0/lib/stretcher/es_component.rb:31:in `request'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/stretcher-1.21.0/lib/stretcher/index_type.rb:29:in `get'
/Users/joshthedudeoflife/re_prefs_svc/lib/api_models/implementation.rb:72:in `get_from_es'
/Users/joshthedudeoflife/re_prefs_svc/lib/api_models/implementation.rb:37:in `notification_preferences_get_get'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_control.rb:51:in `do_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:205:in `block (5 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:204:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:204:in `block (4 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:199:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:199:in `block (3 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:196:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:196:in `block (2 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:195:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:195:in `block in process_http_request'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/eventmachine-1.0.3/lib/eventmachine.rb:1037:in `call'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/eventmachine-1.0.3/lib/eventmachine.rb:1037:in `block in spawn_threadpool'
I, [2014-07-03T17:03:45.653020 #9094]  INFO -- : Response: 404  
I, [2014-07-03T17:04:02.051210 #9094]  INFO -- : Request: controller:notification_preferences action:get method:get
I, [2014-07-03T17:04:02.051420 #9094]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg"}
I, [2014-07-03T17:04:02.051477 #9094]  INFO -- : get_get
D, [2014-07-03T17:04:02.052773 #9094] DEBUG -- : Query: #<Mysql2::Result:0x007fd0eb2c9b60> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T17:04:02.053298 #9094] DEBUG -- : Query: #<Mysql2::Result:0x007fd0eb2c6758> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='acbae7c842686175d3df85ba68e980594e1e42536127e86c20ab70c7688163eb re_portal_prefs_1 1404421442048' LIMIT 1
I, [2014-07-03T17:04:02.053638 #9094]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T17:04:02.053738 #9094]  INFO -- : this is line 31 {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :client=>"re_portal_prefs_1", :ottoken=>"acbae7c842686175d3df85ba68e980594e1e42536127e86c20ab70c7688163eb re_portal_prefs_1 1404421442048", :action=>"get", :controller=>"notification_preferences"}
I, [2014-07-03T17:04:02.058014 #9094]  INFO -- : Response: 200 text/json {:data=>#<Hashie::Mash assetclass=["C"] investments=#<Hashie::Mash maximum="60000" minimum="50001"> states=["Arizona", "Indiana", "Wisconsin", "Wyoming"]>}
I, [2014-07-03T17:04:17.636429 #9094]  INFO -- : Request: controller:notification_preferences action:update method:put
I, [2014-07-03T17:04:17.636563 #9094]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :data=>"{\"assetclass\":[\"C\"],\"states\":[\"Arizona\",\"Indiana\",\"New York\",\"Wisconsin\",\"Wyoming\"],\"investments\":{\"minimum\":\"50001\",\"maximum\":\"60000\"}}"}
I, [2014-07-03T17:04:17.636614 #9094]  INFO -- : update_put
D, [2014-07-03T17:04:17.637190 #9094] DEBUG -- : Query: #<Mysql2::Result:0x007fd0eb2734e0> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T17:04:17.637886 #9094] DEBUG -- : Query: #<Mysql2::Result:0x007fd0eb263388> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='cb8bc660bb5247ec0beef2ba9da3cacbc625999187165d50a47c6a9ba2d00897 re_portal_prefs_1 1404421457631' LIMIT 1
I, [2014-07-03T17:04:17.638194 #9094]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T17:04:17.638254 #9094]  INFO -- : 0DkvQ4w6TCOaqHGRJyEOqg
I, [2014-07-03T17:04:17.646832 #9094]  INFO -- : Response: 200 text/json {:data=>#<Hashie::Mash _id="0DkvQ4w6TCOaqHGRJyEOqg" _index="keepbusy_user_preferences" _type="user_preference" _version=9 created=false>}
I, [2014-07-03T17:04:18.792995 #9094]  INFO -- : Request: controller:notification_preferences action:get method:get
I, [2014-07-03T17:04:18.793193 #9094]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"null"}
I, [2014-07-03T17:04:18.793274 #9094]  INFO -- : get_get
D, [2014-07-03T17:04:18.794139 #9094] DEBUG -- : Query: #<Mysql2::Result:0x007fd0ea14d828> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T17:04:18.794696 #9094] DEBUG -- : Query: #<Mysql2::Result:0x007fd0ea146de8> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='5943b4c131b0d35cdba89694cdc6724bfe182cac8ff409fe56d4c1ff6763f2c8 re_portal_prefs_1 1404421458788' LIMIT 1
I, [2014-07-03T17:04:18.795018 #9094]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T17:04:18.795110 #9094]  INFO -- : this is line 31 {:username=>"ABC", :name=>"def", :id=>"null", :client=>"re_portal_prefs_1", :ottoken=>"5943b4c131b0d35cdba89694cdc6724bfe182cac8ff409fe56d4c1ff6763f2c8 re_portal_prefs_1 1404421458788", :action=>"get", :controller=>"notification_preferences"}
I, [2014-07-03T17:04:18.799369 #9094]  INFO -- : an error occur in GET #<Stretcher::RequestError::NotFound: Error processing request: (404)! get URL: http://127.0.0.1:9200/keepbusy_user_preferences/user_preference/null
 Resp Body: #<Hashie::Mash _id="null" _index="keepbusy_user_preferences" _type="user_preference" found=false>> /Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/stretcher-1.21.0/lib/stretcher/server.rb:242:in `check_response'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/stretcher-1.21.0/lib/stretcher/server.rb:227:in `block in request'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/stretcher-1.21.0/lib/stretcher/server.rb:225:in `synchronize'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/stretcher-1.21.0/lib/stretcher/server.rb:225:in `request'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/stretcher-1.21.0/lib/stretcher/es_component.rb:31:in `request'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/stretcher-1.21.0/lib/stretcher/index_type.rb:29:in `get'
/Users/joshthedudeoflife/re_prefs_svc/lib/api_models/implementation.rb:72:in `get_from_es'
/Users/joshthedudeoflife/re_prefs_svc/lib/api_models/implementation.rb:37:in `notification_preferences_get_get'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_control.rb:51:in `do_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:205:in `block (5 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:204:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:204:in `block (4 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:199:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:199:in `block (3 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:196:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:196:in `block (2 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:195:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:195:in `block in process_http_request'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/eventmachine-1.0.3/lib/eventmachine.rb:1037:in `call'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/eventmachine-1.0.3/lib/eventmachine.rb:1037:in `block in spawn_threadpool'
I, [2014-07-03T17:04:18.799580 #9094]  INFO -- : Response: 404  
I, [2014-07-03T17:04:21.142079 #9094]  INFO -- : Request: controller:notification_preferences action:get method:get
I, [2014-07-03T17:04:21.142187 #9094]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg"}
I, [2014-07-03T17:04:21.142238 #9094]  INFO -- : get_get
D, [2014-07-03T17:04:21.143730 #9094] DEBUG -- : Query: #<Mysql2::Result:0x007fd0eb157340> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T17:04:21.145134 #9094] DEBUG -- : Query: #<Mysql2::Result:0x007fd0ea12e220> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='fa08f353a35f458f83de7ae34bddffe4bf996961d3fca508af77f4313813f366 re_portal_prefs_1 1404421461130' LIMIT 1
I, [2014-07-03T17:04:21.146108 #9094]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T17:04:21.146280 #9094]  INFO -- : this is line 31 {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :client=>"re_portal_prefs_1", :ottoken=>"fa08f353a35f458f83de7ae34bddffe4bf996961d3fca508af77f4313813f366 re_portal_prefs_1 1404421461130", :action=>"get", :controller=>"notification_preferences"}
I, [2014-07-03T17:04:21.160823 #9094]  INFO -- : Response: 200 text/json {:data=>#<Hashie::Mash assetclass=["C"] investments=#<Hashie::Mash maximum="60000" minimum="50001"> states=["Arizona", "Indiana", "New York", "Wisconsin", "Wyoming"]>}
I, [2014-07-03T17:04:25.696100 #9094]  INFO -- : Request: controller:notification_preferences action:get method:get
I, [2014-07-03T17:04:25.696193 #9094]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg"}
I, [2014-07-03T17:04:25.696240 #9094]  INFO -- : get_get
D, [2014-07-03T17:04:25.696868 #9094] DEBUG -- : Query: #<Mysql2::Result:0x007fd0eb125f98> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T17:04:25.697301 #9094] DEBUG -- : Query: #<Mysql2::Result:0x007fd0eb11eae0> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='29508b0b35e4280305a4660411421a448ee2bee00d484eeb25a63ecf2ed3ffea re_portal_prefs_1 1404421465688' LIMIT 1
I, [2014-07-03T17:04:25.698762 #9094]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T17:04:25.698885 #9094]  INFO -- : this is line 31 {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :client=>"re_portal_prefs_1", :ottoken=>"29508b0b35e4280305a4660411421a448ee2bee00d484eeb25a63ecf2ed3ffea re_portal_prefs_1 1404421465688", :action=>"get", :controller=>"notification_preferences"}
I, [2014-07-03T17:04:25.703700 #9094]  INFO -- : Response: 200 text/json {:data=>#<Hashie::Mash assetclass=["C"] investments=#<Hashie::Mash maximum="60000" minimum="50001"> states=["Arizona", "Indiana", "New York", "Wisconsin", "Wyoming"]>}
I, [2014-07-03T17:06:17.497204 #9094]  INFO -- : Request: controller:notification_preferences action:get method:get
I, [2014-07-03T17:06:17.497394 #9094]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg"}
I, [2014-07-03T17:06:17.497449 #9094]  INFO -- : get_get
D, [2014-07-03T17:06:17.497989 #9094] DEBUG -- : Query: #<Mysql2::Result:0x007fd0eb0f4c90> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T17:06:17.498481 #9094] DEBUG -- : Query: #<Mysql2::Result:0x007fd0eb0ee368> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='98454a76bc14e7b07441fadc18c9b7eff9816e96de616c2ee02bad30f744874b re_portal_prefs_1 1404421577491' LIMIT 1
I, [2014-07-03T17:06:17.498789 #9094]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T17:06:17.498892 #9094]  INFO -- : this is line 31 {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :client=>"re_portal_prefs_1", :ottoken=>"98454a76bc14e7b07441fadc18c9b7eff9816e96de616c2ee02bad30f744874b re_portal_prefs_1 1404421577491", :action=>"get", :controller=>"notification_preferences"}
I, [2014-07-03T17:06:17.504935 #9094]  INFO -- : Response: 200 text/json {:data=>#<Hashie::Mash assetclass=["C"] investments=#<Hashie::Mash maximum="60000" minimum="50001"> states=["Arizona", "Indiana", "New York", "Wisconsin", "Wyoming"]>}
I, [2014-07-03T17:06:21.931038 #9094]  INFO -- : Request: controller:notification_preferences action:update method:put
I, [2014-07-03T17:06:21.931243 #9094]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :data=>"{\"assetclass\":[\"C\"],\"states\":[\"Arizona\",\"Indiana\",\"New York\",\"Wisconsin\",\"Wyoming\"],\"investments\":{\"minimum\":\"50001\",\"maximum\":\"60000\"}}"}
I, [2014-07-03T17:06:21.931298 #9094]  INFO -- : update_put
D, [2014-07-03T17:06:21.934514 #9094] DEBUG -- : Query: #<Mysql2::Result:0x007fd0eb0a52a8> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T17:06:21.935424 #9094] DEBUG -- : Query: #<Mysql2::Result:0x007fd0eb08f458> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='e7e6e99b50eeb519d6dc6e96ac6f3c236f98ad2af3e8ffb0660399c871047d3f re_portal_prefs_1 1404421581926' LIMIT 1
I, [2014-07-03T17:06:21.935840 #9094]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T17:06:21.935903 #9094]  INFO -- : 0DkvQ4w6TCOaqHGRJyEOqg
I, [2014-07-03T17:06:21.949491 #9094]  INFO -- : Response: 200 text/json {:data=>#<Hashie::Mash _id="0DkvQ4w6TCOaqHGRJyEOqg" _index="keepbusy_user_preferences" _type="user_preference" _version=10 created=false>}
I, [2014-07-03T17:12:50.154877 #9154]  INFO -- : Started running (KeepBusy): Log file: /Users/joshthedudeoflife/re_prefs_svc/log/run.log
I, [2014-07-03T17:13:16.297424 #9167]  INFO -- : Started running (KeepBusy): Log file: /Users/joshthedudeoflife/re_prefs_svc/log/run.log
I, [2014-07-03T17:13:21.301105 #9167]  INFO -- : Request: controller:notification_preferences action:get method:get
I, [2014-07-03T17:13:21.301253 #9167]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"null"}
I, [2014-07-03T17:13:21.301311 #9167]  INFO -- : get_get
D, [2014-07-03T17:13:21.325463 #9167] DEBUG -- : Query: #<Mysql2::Result:0x007f8459043b68> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T17:13:21.326209 #9167] DEBUG -- : Query: #<Mysql2::Result:0x007f8459040300> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='b8848224693112eff8042b2f02476ccd0eb094c78e83b91f52b98448bbb6ccc2 re_portal_prefs_1 1404422001238' LIMIT 1
I, [2014-07-03T17:13:21.326593 #9167]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T17:13:21.326698 #9167]  INFO -- : this is line 31 {:username=>"ABC", :name=>"def", :id=>"null", :client=>"re_portal_prefs_1", :ottoken=>"b8848224693112eff8042b2f02476ccd0eb094c78e83b91f52b98448bbb6ccc2 re_portal_prefs_1 1404422001238", :action=>"get", :controller=>"notification_preferences"}
I, [2014-07-03T17:13:21.371860 #9167]  INFO -- : an error occur in GET #<Stretcher::RequestError::NotFound: Error processing request: (404)! get URL: http://127.0.0.1:9200/keepbusy_user_preferences/user_preference/null
 Resp Body: #<Hashie::Mash _id="null" _index="keepbusy_user_preferences" _type="user_preference" found=false>> /Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/stretcher-1.21.0/lib/stretcher/server.rb:242:in `check_response'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/stretcher-1.21.0/lib/stretcher/server.rb:227:in `block in request'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/stretcher-1.21.0/lib/stretcher/server.rb:225:in `synchronize'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/stretcher-1.21.0/lib/stretcher/server.rb:225:in `request'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/stretcher-1.21.0/lib/stretcher/es_component.rb:31:in `request'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/stretcher-1.21.0/lib/stretcher/index_type.rb:29:in `get'
/Users/joshthedudeoflife/re_prefs_svc/lib/api_models/implementation.rb:73:in `get_from_es'
/Users/joshthedudeoflife/re_prefs_svc/lib/api_models/implementation.rb:37:in `notification_preferences_get_get'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_control.rb:51:in `do_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:205:in `block (5 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:204:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:204:in `block (4 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:199:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:199:in `block (3 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:196:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:196:in `block (2 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:195:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:195:in `block in process_http_request'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/eventmachine-1.0.3/lib/eventmachine.rb:1037:in `call'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/eventmachine-1.0.3/lib/eventmachine.rb:1037:in `block in spawn_threadpool'
I, [2014-07-03T17:13:21.372074 #9167]  INFO -- : Response: 404  
I, [2014-07-03T17:13:22.087693 #9167]  INFO -- : Request: controller:notification_preferences action:get method:get
I, [2014-07-03T17:13:22.087790 #9167]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"null"}
I, [2014-07-03T17:13:22.087844 #9167]  INFO -- : get_get
D, [2014-07-03T17:13:22.088836 #9167] DEBUG -- : Query: #<Mysql2::Result:0x007f845984ccd8> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T17:13:22.089926 #9167] DEBUG -- : Query: #<Mysql2::Result:0x007f8459856aa8> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='a5378299df07f8626a405c15c0554740358b1a30d95aba6ad037eb5783ef1002 re_portal_prefs_1 1404422002085' LIMIT 1
I, [2014-07-03T17:13:22.090654 #9167]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T17:13:22.090769 #9167]  INFO -- : this is line 31 {:username=>"ABC", :name=>"def", :id=>"null", :client=>"re_portal_prefs_1", :ottoken=>"a5378299df07f8626a405c15c0554740358b1a30d95aba6ad037eb5783ef1002 re_portal_prefs_1 1404422002085", :action=>"get", :controller=>"notification_preferences"}
I, [2014-07-03T17:13:22.096104 #9167]  INFO -- : an error occur in GET #<Stretcher::RequestError::NotFound: Error processing request: (404)! get URL: http://127.0.0.1:9200/keepbusy_user_preferences/user_preference/null
 Resp Body: #<Hashie::Mash _id="null" _index="keepbusy_user_preferences" _type="user_preference" found=false>> /Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/stretcher-1.21.0/lib/stretcher/server.rb:242:in `check_response'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/stretcher-1.21.0/lib/stretcher/server.rb:227:in `block in request'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/stretcher-1.21.0/lib/stretcher/server.rb:225:in `synchronize'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/stretcher-1.21.0/lib/stretcher/server.rb:225:in `request'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/stretcher-1.21.0/lib/stretcher/es_component.rb:31:in `request'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/stretcher-1.21.0/lib/stretcher/index_type.rb:29:in `get'
/Users/joshthedudeoflife/re_prefs_svc/lib/api_models/implementation.rb:73:in `get_from_es'
/Users/joshthedudeoflife/re_prefs_svc/lib/api_models/implementation.rb:37:in `notification_preferences_get_get'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_control.rb:51:in `do_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:205:in `block (5 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:204:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:204:in `block (4 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:199:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:199:in `block (3 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:196:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:196:in `block (2 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:195:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:195:in `block in process_http_request'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/eventmachine-1.0.3/lib/eventmachine.rb:1037:in `call'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/eventmachine-1.0.3/lib/eventmachine.rb:1037:in `block in spawn_threadpool'
I, [2014-07-03T17:13:22.096290 #9167]  INFO -- : Response: 404  
I, [2014-07-03T17:13:26.041933 #9167]  INFO -- : Request: controller:notification_preferences action:get method:get
I, [2014-07-03T17:13:26.042097 #9167]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg"}
I, [2014-07-03T17:13:26.042153 #9167]  INFO -- : get_get
D, [2014-07-03T17:13:26.043086 #9167] DEBUG -- : Query: #<Mysql2::Result:0x007f845985f680> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T17:13:26.043876 #9167] DEBUG -- : Query: #<Mysql2::Result:0x007f845985d998> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='48f857d46ef420ec5f960307f59e668a50b935825aa837f70467a64ac5ee6b11 re_portal_prefs_1 1404422006035' LIMIT 1
I, [2014-07-03T17:13:26.045647 #9167]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T17:13:26.045764 #9167]  INFO -- : this is line 31 {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :client=>"re_portal_prefs_1", :ottoken=>"48f857d46ef420ec5f960307f59e668a50b935825aa837f70467a64ac5ee6b11 re_portal_prefs_1 1404422006035", :action=>"get", :controller=>"notification_preferences"}
I, [2014-07-03T17:13:26.069757 #9167]  INFO -- : Response: 200 text/json {:data=>#<Hashie::Mash assetclass=["C"] investments=#<Hashie::Mash maximum="60000" minimum="50001"> states=["Arizona", "Indiana", "New York", "Wisconsin", "Wyoming"]>}
I, [2014-07-03T17:13:30.748079 #9167]  INFO -- : Request: controller:notification_preferences action:update method:put
I, [2014-07-03T17:13:30.748179 #9167]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :data=>"{\"assetclass\":[\"C\"],\"states\":[\"Arizona\",\"Indiana\",\"New Mexico\",\"New York\",\"Wisconsin\",\"Wyoming\"],\"investments\":{\"minimum\":\"50001\",\"maximum\":\"60000\"}}"}
I, [2014-07-03T17:13:30.748231 #9167]  INFO -- : update_put
D, [2014-07-03T17:13:30.749046 #9167] DEBUG -- : Query: #<Mysql2::Result:0x007f84598380f8> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T17:13:30.749603 #9167] DEBUG -- : Query: #<Mysql2::Result:0x007f8459840140> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='e2e936bb15d6f625689d6619d2bcb4f2df7e58b34727284a3554eae9fc6d5e0c re_portal_prefs_1 1404422010745' LIMIT 1
I, [2014-07-03T17:13:30.749896 #9167]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T17:13:30.749952 #9167]  INFO -- : 0DkvQ4w6TCOaqHGRJyEOqg
W, [2014-07-03T17:13:30.758793 #9167]  WARN -- : Error processing request: #<NameError: undefined local variable or method `id' for #<SecureApi::Implementation:0x007f845983b5c8>>
/Users/joshthedudeoflife/re_prefs_svc/lib/api_models/implementation.rb:63:in `notification_preferences_update_put'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_control.rb:51:in `do_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:205:in `block (5 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:204:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:204:in `block (4 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:199:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:199:in `block (3 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:196:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:196:in `block (2 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:195:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:195:in `block in process_http_request'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/eventmachine-1.0.3/lib/eventmachine.rb:1037:in `call'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/eventmachine-1.0.3/lib/eventmachine.rb:1037:in `block in spawn_threadpool'
I, [2014-07-03T17:13:31.485716 #9167]  INFO -- : Request: controller:notification_preferences action:get method:get
I, [2014-07-03T17:13:31.485821 #9167]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"null"}
I, [2014-07-03T17:13:31.485892 #9167]  INFO -- : get_get
D, [2014-07-03T17:13:31.488236 #9167] DEBUG -- : Query: #<Mysql2::Result:0x007f84598d8490> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T17:13:31.491543 #9167] DEBUG -- : Query: #<Mysql2::Result:0x007f84598e09d8> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='f64eec7b450f9c3f4e1a0afc093c61d7c909c0532f1a7e4b27fc5f58a8aa571c re_portal_prefs_1 1404422011482' LIMIT 1
I, [2014-07-03T17:13:31.496240 #9167]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T17:13:31.496453 #9167]  INFO -- : this is line 31 {:username=>"ABC", :name=>"def", :id=>"null", :client=>"re_portal_prefs_1", :ottoken=>"f64eec7b450f9c3f4e1a0afc093c61d7c909c0532f1a7e4b27fc5f58a8aa571c re_portal_prefs_1 1404422011482", :action=>"get", :controller=>"notification_preferences"}
I, [2014-07-03T17:13:31.510376 #9167]  INFO -- : an error occur in GET #<Stretcher::RequestError::NotFound: Error processing request: (404)! get URL: http://127.0.0.1:9200/keepbusy_user_preferences/user_preference/null
 Resp Body: #<Hashie::Mash _id="null" _index="keepbusy_user_preferences" _type="user_preference" found=false>> /Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/stretcher-1.21.0/lib/stretcher/server.rb:242:in `check_response'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/stretcher-1.21.0/lib/stretcher/server.rb:227:in `block in request'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/stretcher-1.21.0/lib/stretcher/server.rb:225:in `synchronize'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/stretcher-1.21.0/lib/stretcher/server.rb:225:in `request'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/stretcher-1.21.0/lib/stretcher/es_component.rb:31:in `request'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/stretcher-1.21.0/lib/stretcher/index_type.rb:29:in `get'
/Users/joshthedudeoflife/re_prefs_svc/lib/api_models/implementation.rb:73:in `get_from_es'
/Users/joshthedudeoflife/re_prefs_svc/lib/api_models/implementation.rb:37:in `notification_preferences_get_get'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_control.rb:51:in `do_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:205:in `block (5 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:204:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:204:in `block (4 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:199:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:199:in `block (3 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:196:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:196:in `block (2 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:195:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:195:in `block in process_http_request'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/eventmachine-1.0.3/lib/eventmachine.rb:1037:in `call'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/eventmachine-1.0.3/lib/eventmachine.rb:1037:in `block in spawn_threadpool'
I, [2014-07-03T17:13:31.513858 #9167]  INFO -- : Response: 404  
I, [2014-07-03T17:13:37.037911 #9167]  INFO -- : Request: controller:notification_preferences action:get method:get
I, [2014-07-03T17:13:37.038011 #9167]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"null"}
I, [2014-07-03T17:13:37.038091 #9167]  INFO -- : get_get
D, [2014-07-03T17:13:37.039422 #9167] DEBUG -- : Query: #<Mysql2::Result:0x007f8459941c10> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T17:13:37.040070 #9167] DEBUG -- : Query: #<Mysql2::Result:0x007f845994adb0> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='4d12a91d38ac4c2f12ec79ea8d14724f08dbc39c35a402bf67b1aeeb3db2a366 re_portal_prefs_1 1404422017027' LIMIT 1
I, [2014-07-03T17:13:37.040428 #9167]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T17:13:37.040523 #9167]  INFO -- : this is line 31 {:username=>"ABC", :name=>"def", :id=>"null", :client=>"re_portal_prefs_1", :ottoken=>"4d12a91d38ac4c2f12ec79ea8d14724f08dbc39c35a402bf67b1aeeb3db2a366 re_portal_prefs_1 1404422017027", :action=>"get", :controller=>"notification_preferences"}
I, [2014-07-03T17:13:37.049910 #9167]  INFO -- : an error occur in GET #<Stretcher::RequestError::NotFound: Error processing request: (404)! get URL: http://127.0.0.1:9200/keepbusy_user_preferences/user_preference/null
 Resp Body: #<Hashie::Mash _id="null" _index="keepbusy_user_preferences" _type="user_preference" found=false>> /Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/stretcher-1.21.0/lib/stretcher/server.rb:242:in `check_response'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/stretcher-1.21.0/lib/stretcher/server.rb:227:in `block in request'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/stretcher-1.21.0/lib/stretcher/server.rb:225:in `synchronize'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/stretcher-1.21.0/lib/stretcher/server.rb:225:in `request'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/stretcher-1.21.0/lib/stretcher/es_component.rb:31:in `request'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/stretcher-1.21.0/lib/stretcher/index_type.rb:29:in `get'
/Users/joshthedudeoflife/re_prefs_svc/lib/api_models/implementation.rb:73:in `get_from_es'
/Users/joshthedudeoflife/re_prefs_svc/lib/api_models/implementation.rb:37:in `notification_preferences_get_get'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_control.rb:51:in `do_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:205:in `block (5 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:204:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:204:in `block (4 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:199:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:199:in `block (3 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:196:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:196:in `block (2 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:195:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:195:in `block in process_http_request'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/eventmachine-1.0.3/lib/eventmachine.rb:1037:in `call'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/eventmachine-1.0.3/lib/eventmachine.rb:1037:in `block in spawn_threadpool'
I, [2014-07-03T17:13:37.050115 #9167]  INFO -- : Response: 404  
I, [2014-07-03T17:13:41.925898 #9167]  INFO -- : Request: controller:notification_preferences action:get method:get
I, [2014-07-03T17:13:41.926145 #9167]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg"}
I, [2014-07-03T17:13:41.926282 #9167]  INFO -- : get_get
D, [2014-07-03T17:13:41.926951 #9167] DEBUG -- : Query: #<Mysql2::Result:0x007f8459187420> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T17:13:41.927462 #9167] DEBUG -- : Query: #<Mysql2::Result:0x007f84591858c8> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='b7369fde4e41a629f77a8b56f91bf415604a1507c45b233a58c1b91d21a4e705 re_portal_prefs_1 1404422021919' LIMIT 1
I, [2014-07-03T17:13:41.927775 #9167]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T17:13:41.927861 #9167]  INFO -- : this is line 31 {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :client=>"re_portal_prefs_1", :ottoken=>"b7369fde4e41a629f77a8b56f91bf415604a1507c45b233a58c1b91d21a4e705 re_portal_prefs_1 1404422021919", :action=>"get", :controller=>"notification_preferences"}
I, [2014-07-03T17:13:41.932883 #9167]  INFO -- : Response: 200 text/json {:data=>#<Hashie::Mash assetclass=["C"] investments=#<Hashie::Mash maximum="60000" minimum="50001"> states=["Arizona", "Indiana", "New Mexico", "New York", "Wisconsin", "Wyoming"]>}
I, [2014-07-03T17:14:02.204069 #9167]  INFO -- : Request: controller:notification_preferences action:get method:get
I, [2014-07-03T17:14:02.205041 #9167]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg"}
I, [2014-07-03T17:14:02.205115 #9167]  INFO -- : get_get
D, [2014-07-03T17:14:02.206347 #9167] DEBUG -- : Query: #<Mysql2::Result:0x007f84599f36e0> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T17:14:02.211342 #9167] DEBUG -- : Query: #<Mysql2::Result:0x007f84599f1b10> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='eabafd81289029cb1a8a660427699ef5fd4ea9ced4388e4baef4194cdad10a39 re_portal_prefs_1 1404422042199' LIMIT 1
I, [2014-07-03T17:14:02.211979 #9167]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T17:14:02.212140 #9167]  INFO -- : this is line 31 {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :client=>"re_portal_prefs_1", :ottoken=>"eabafd81289029cb1a8a660427699ef5fd4ea9ced4388e4baef4194cdad10a39 re_portal_prefs_1 1404422042199", :action=>"get", :controller=>"notification_preferences"}
I, [2014-07-03T17:14:02.222743 #9167]  INFO -- : Response: 200 text/json {:data=>#<Hashie::Mash assetclass=["C"] investments=#<Hashie::Mash maximum="60000" minimum="50001"> states=["Arizona", "Indiana", "New Mexico", "New York", "Wisconsin", "Wyoming"]>}
I, [2014-07-03T17:14:09.752549 #9167]  INFO -- : Request: controller:notification_preferences action:update method:put
I, [2014-07-03T17:14:09.752662 #9167]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :data=>"{\"assetclass\":[\"C\"],\"states\":[\"Arizona\",\"Indiana\",\"New Mexico\",\"New York\",\"West Virginia\",\"Wisconsin\",\"Wyoming\"],\"investments\":{\"minimum\":\"50001\",\"maximum\":\"60000\"}}"}
I, [2014-07-03T17:14:09.752714 #9167]  INFO -- : update_put
D, [2014-07-03T17:14:09.753501 #9167] DEBUG -- : Query: #<Mysql2::Result:0x007f8459a203e8> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T17:14:09.754162 #9167] DEBUG -- : Query: #<Mysql2::Result:0x007f8459a46e80> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='e5b1518817872dbfc3046c844fef542b5dbdfd4f1172a470ca0f970939e136e5 re_portal_prefs_1 1404422049750' LIMIT 1
I, [2014-07-03T17:14:09.755157 #9167]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T17:14:09.755216 #9167]  INFO -- : 0DkvQ4w6TCOaqHGRJyEOqg
W, [2014-07-03T17:14:09.762502 #9167]  WARN -- : Error processing request: #<NameError: undefined local variable or method `id' for #<SecureApi::Implementation:0x007f8459a28278>>
/Users/joshthedudeoflife/re_prefs_svc/lib/api_models/implementation.rb:63:in `notification_preferences_update_put'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_control.rb:51:in `do_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:205:in `block (5 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:204:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:204:in `block (4 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:199:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:199:in `block (3 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:196:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:196:in `block (2 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:195:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:195:in `block in process_http_request'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/eventmachine-1.0.3/lib/eventmachine.rb:1037:in `call'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/eventmachine-1.0.3/lib/eventmachine.rb:1037:in `block in spawn_threadpool'
I, [2014-07-03T17:16:24.494479 #9167]  INFO -- : Request: controller:notification_preferences action:get method:get
I, [2014-07-03T17:16:24.494621 #9167]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"null"}
I, [2014-07-03T17:16:24.494679 #9167]  INFO -- : get_get
D, [2014-07-03T17:16:24.496853 #9167] DEBUG -- : Query: #<Mysql2::Result:0x007f8459a98cd0> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T17:16:24.500176 #9167] DEBUG -- : Query: #<Mysql2::Result:0x007f8459aa0b10> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='917225698f4eb90c0d2c0ef286e53df7e56c8f3003d817f9928729114d6966e6 re_portal_prefs_1 1404422184454' LIMIT 1
I, [2014-07-03T17:16:24.501664 #9167]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T17:16:24.502620 #9167]  INFO -- : this is line 31 {:username=>"ABC", :name=>"def", :id=>"null", :client=>"re_portal_prefs_1", :ottoken=>"917225698f4eb90c0d2c0ef286e53df7e56c8f3003d817f9928729114d6966e6 re_portal_prefs_1 1404422184454", :action=>"get", :controller=>"notification_preferences"}
I, [2014-07-03T17:16:24.512238 #9167]  INFO -- : an error occur in GET #<Stretcher::RequestError::NotFound: Error processing request: (404)! get URL: http://127.0.0.1:9200/keepbusy_user_preferences/user_preference/null
 Resp Body: #<Hashie::Mash _id="null" _index="keepbusy_user_preferences" _type="user_preference" found=false>> /Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/stretcher-1.21.0/lib/stretcher/server.rb:242:in `check_response'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/stretcher-1.21.0/lib/stretcher/server.rb:227:in `block in request'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/stretcher-1.21.0/lib/stretcher/server.rb:225:in `synchronize'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/stretcher-1.21.0/lib/stretcher/server.rb:225:in `request'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/stretcher-1.21.0/lib/stretcher/es_component.rb:31:in `request'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/stretcher-1.21.0/lib/stretcher/index_type.rb:29:in `get'
/Users/joshthedudeoflife/re_prefs_svc/lib/api_models/implementation.rb:73:in `get_from_es'
/Users/joshthedudeoflife/re_prefs_svc/lib/api_models/implementation.rb:37:in `notification_preferences_get_get'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_control.rb:51:in `do_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:205:in `block (5 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:204:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:204:in `block (4 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:199:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:199:in `block (3 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:196:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:196:in `block (2 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:195:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:195:in `block in process_http_request'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/eventmachine-1.0.3/lib/eventmachine.rb:1037:in `call'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/eventmachine-1.0.3/lib/eventmachine.rb:1037:in `block in spawn_threadpool'
I, [2014-07-03T17:16:24.512415 #9167]  INFO -- : Response: 404  
I, [2014-07-03T17:16:27.956644 #9167]  INFO -- : Request: controller:notification_preferences action:get method:get
I, [2014-07-03T17:16:27.957422 #9167]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg"}
I, [2014-07-03T17:16:27.957556 #9167]  INFO -- : get_get
D, [2014-07-03T17:16:27.958428 #9167] DEBUG -- : Query: #<Mysql2::Result:0x007f8459ad5428> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T17:16:27.965306 #9167] DEBUG -- : Query: #<Mysql2::Result:0x007f8459aded48> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='f906b39ebafe8ed00ef681e9358691a3a15695ffdea5cf12d72434ac73129c24 re_portal_prefs_1 1404422187943' LIMIT 1
I, [2014-07-03T17:16:27.965902 #9167]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T17:16:27.966017 #9167]  INFO -- : this is line 31 {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :client=>"re_portal_prefs_1", :ottoken=>"f906b39ebafe8ed00ef681e9358691a3a15695ffdea5cf12d72434ac73129c24 re_portal_prefs_1 1404422187943", :action=>"get", :controller=>"notification_preferences"}
I, [2014-07-03T17:16:27.970509 #9167]  INFO -- : Response: 200 text/json {:data=>#<Hashie::Mash assetclass=["C"] investments=#<Hashie::Mash maximum="60000" minimum="50001"> states=["Arizona", "Indiana", "New Mexico", "New York", "West Virginia", "Wisconsin", "Wyoming"]>}
I, [2014-07-03T17:16:33.364810 #9167]  INFO -- : Request: controller:notification_preferences action:update method:put
I, [2014-07-03T17:16:33.364931 #9167]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :data=>"{\"assetclass\":[\"C\"],\"states\":[\"Arizona\",\"Delaware\",\"Indiana\",\"New Mexico\",\"New York\",\"West Virginia\",\"Wisconsin\",\"Wyoming\"],\"investments\":{\"minimum\":\"50001\",\"maximum\":\"60000\"}}"}
I, [2014-07-03T17:16:33.364985 #9167]  INFO -- : update_put
D, [2014-07-03T17:16:33.365581 #9167] DEBUG -- : Query: #<Mysql2::Result:0x007f84591fae20> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T17:16:33.366227 #9167] DEBUG -- : Query: #<Mysql2::Result:0x007f8459200ed8> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='9ccaf33e92036bde438ac9e9ac496fb36dc28378fa3078d79136442c5027e6ff re_portal_prefs_1 1404422193359' LIMIT 1
I, [2014-07-03T17:16:33.366654 #9167]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T17:16:33.366723 #9167]  INFO -- : 0DkvQ4w6TCOaqHGRJyEOqg
W, [2014-07-03T17:16:33.398269 #9167]  WARN -- : Error processing request: #<NameError: undefined local variable or method `id' for #<SecureApi::Implementation:0x007f84591f3148>>
/Users/joshthedudeoflife/re_prefs_svc/lib/api_models/implementation.rb:63:in `notification_preferences_update_put'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_control.rb:51:in `do_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:205:in `block (5 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:204:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:204:in `block (4 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:199:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:199:in `block (3 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:196:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:196:in `block (2 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:195:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:195:in `block in process_http_request'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/eventmachine-1.0.3/lib/eventmachine.rb:1037:in `call'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/eventmachine-1.0.3/lib/eventmachine.rb:1037:in `block in spawn_threadpool'
I, [2014-07-03T17:19:16.990394 #9189]  INFO -- : Started running (KeepBusy): Log file: /Users/joshthedudeoflife/re_prefs_svc/log/run.log
I, [2014-07-03T17:19:19.424709 #9189]  INFO -- : Request: controller:notification_preferences action:get method:get
I, [2014-07-03T17:19:19.424872 #9189]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"null"}
I, [2014-07-03T17:19:19.424926 #9189]  INFO -- : get_get
D, [2014-07-03T17:19:19.439554 #9189] DEBUG -- : Query: #<Mysql2::Result:0x007fd414043ef0> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T17:19:19.440228 #9189] DEBUG -- : Query: #<Mysql2::Result:0x007fd414040660> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='d7e9c808bc6df2efb929919091116e8db22b3f298bb11c49429fcf2a66a1029b re_portal_prefs_1 1404422359374' LIMIT 1
I, [2014-07-03T17:19:19.440598 #9189]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T17:19:19.440696 #9189]  INFO -- : this is line 31 {:username=>"ABC", :name=>"def", :id=>"null", :client=>"re_portal_prefs_1", :ottoken=>"d7e9c808bc6df2efb929919091116e8db22b3f298bb11c49429fcf2a66a1029b re_portal_prefs_1 1404422359374", :action=>"get", :controller=>"notification_preferences"}
I, [2014-07-03T17:19:19.462043 #9189]  INFO -- : an error occur in GET #<Stretcher::RequestError::NotFound: Error processing request: (404)! get URL: http://127.0.0.1:9200/keepbusy_user_preferences/user_preference/null
 Resp Body: #<Hashie::Mash _id="null" _index="keepbusy_user_preferences" _type="user_preference" found=false>> /Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/stretcher-1.21.0/lib/stretcher/server.rb:242:in `check_response'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/stretcher-1.21.0/lib/stretcher/server.rb:227:in `block in request'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/stretcher-1.21.0/lib/stretcher/server.rb:225:in `synchronize'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/stretcher-1.21.0/lib/stretcher/server.rb:225:in `request'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/stretcher-1.21.0/lib/stretcher/es_component.rb:31:in `request'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/stretcher-1.21.0/lib/stretcher/index_type.rb:29:in `get'
/Users/joshthedudeoflife/re_prefs_svc/lib/api_models/implementation.rb:73:in `get_from_es'
/Users/joshthedudeoflife/re_prefs_svc/lib/api_models/implementation.rb:37:in `notification_preferences_get_get'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_control.rb:51:in `do_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:205:in `block (5 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:204:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:204:in `block (4 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:199:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:199:in `block (3 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:196:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:196:in `block (2 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:195:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:195:in `block in process_http_request'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/eventmachine-1.0.3/lib/eventmachine.rb:1037:in `call'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/eventmachine-1.0.3/lib/eventmachine.rb:1037:in `block in spawn_threadpool'
I, [2014-07-03T17:19:19.462454 #9189]  INFO -- : Response: 404  
I, [2014-07-03T17:19:25.201621 #9189]  INFO -- : Request: controller:notification_preferences action:get method:get
I, [2014-07-03T17:19:25.202021 #9189]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg"}
I, [2014-07-03T17:19:25.202088 #9189]  INFO -- : get_get
D, [2014-07-03T17:19:25.203337 #9189] DEBUG -- : Query: #<Mysql2::Result:0x007fd414864f80> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T17:19:25.204129 #9189] DEBUG -- : Query: #<Mysql2::Result:0x007fd41486ecb0> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='33fffbafa649ebb876114629e02d464a83e812fb0552aa7465231575b87ea4fd re_portal_prefs_1 1404422365185' LIMIT 1
I, [2014-07-03T17:19:25.206199 #9189]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T17:19:25.206454 #9189]  INFO -- : this is line 31 {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :client=>"re_portal_prefs_1", :ottoken=>"33fffbafa649ebb876114629e02d464a83e812fb0552aa7465231575b87ea4fd re_portal_prefs_1 1404422365185", :action=>"get", :controller=>"notification_preferences"}
I, [2014-07-03T17:19:25.213817 #9189]  INFO -- : Response: 200 text/json {:data=>#<Hashie::Mash assetclass=["C"] investments=#<Hashie::Mash maximum="60000" minimum="50001"> states=["Arizona", "Delaware", "Indiana", "New Mexico", "New York", "West Virginia", "Wisconsin", "Wyoming"]>}
I, [2014-07-03T17:19:30.061030 #9189]  INFO -- : Request: controller:notification_preferences action:get method:get
I, [2014-07-03T17:19:30.061139 #9189]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg"}
I, [2014-07-03T17:19:30.061190 #9189]  INFO -- : get_get
D, [2014-07-03T17:19:30.061761 #9189] DEBUG -- : Query: #<Mysql2::Result:0x007fd41489f360> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T17:19:30.062927 #9189] DEBUG -- : Query: #<Mysql2::Result:0x007fd41489cf70> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='cac59ed02f4572705373c878a11a552ea629c1f9e9be02ede2711ddee1f0fce8 re_portal_prefs_1 1404422370057' LIMIT 1
I, [2014-07-03T17:19:30.063305 #9189]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T17:19:30.063398 #9189]  INFO -- : this is line 31 {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :client=>"re_portal_prefs_1", :ottoken=>"cac59ed02f4572705373c878a11a552ea629c1f9e9be02ede2711ddee1f0fce8 re_portal_prefs_1 1404422370057", :action=>"get", :controller=>"notification_preferences"}
I, [2014-07-03T17:19:30.067377 #9189]  INFO -- : Response: 200 text/json {:data=>#<Hashie::Mash assetclass=["C"] investments=#<Hashie::Mash maximum="60000" minimum="50001"> states=["Arizona", "Delaware", "Indiana", "New Mexico", "New York", "West Virginia", "Wisconsin", "Wyoming"]>}
I, [2014-07-03T17:19:34.078416 #9189]  INFO -- : Request: controller:notification_preferences action:update method:put
I, [2014-07-03T17:19:34.078520 #9189]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :data=>"{\"assetclass\":[\"C\"],\"states\":[\"Arizona\",\"Delaware\",\"Indiana\",\"New Mexico\",\"New York\",\"Vermont\",\"West Virginia\",\"Wisconsin\",\"Wyoming\"],\"investments\":{\"minimum\":\"50001\",\"maximum\":\"60000\"}}"}
I, [2014-07-03T17:19:34.078599 #9189]  INFO -- : update_put
D, [2014-07-03T17:19:34.080581 #9189] DEBUG -- : Query: #<Mysql2::Result:0x007fd4148e6bc0> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T17:19:34.081236 #9189] DEBUG -- : Query: #<Mysql2::Result:0x007fd4148f4b58> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='f022bcc1a92a6d69b05d3357e306b1c90426c5c24c09612fc0f28a146aba1d69 re_portal_prefs_1 1404422374073' LIMIT 1
I, [2014-07-03T17:19:34.081539 #9189]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T17:19:34.081594 #9189]  INFO -- : 0DkvQ4w6TCOaqHGRJyEOqg
I, [2014-07-03T17:19:34.095404 #9189]  INFO -- : {"assetclass"=>["C"], "states"=>["Arizona", "Delaware", "Indiana", "New Mexico", "New York", "Vermont", "West Virginia", "Wisconsin", "Wyoming"], "investments"=>{"minimum"=>"50001", "maximum"=>"60000"}}
W, [2014-07-03T17:19:34.095830 #9189]  WARN -- : Error processing request: #<NameError: undefined local variable or method `id' for #<SecureApi::Implementation:0x007fd41485a8f0>>
/Users/joshthedudeoflife/re_prefs_svc/lib/api_models/implementation.rb:63:in `notification_preferences_update_put'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_control.rb:51:in `do_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:205:in `block (5 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:204:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:204:in `block (4 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:199:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:199:in `block (3 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:196:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:196:in `block (2 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:195:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:195:in `block in process_http_request'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/eventmachine-1.0.3/lib/eventmachine.rb:1037:in `call'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/eventmachine-1.0.3/lib/eventmachine.rb:1037:in `block in spawn_threadpool'
I, [2014-07-03T17:19:34.933943 #9189]  INFO -- : Request: controller:notification_preferences action:get method:get
I, [2014-07-03T17:19:34.934041 #9189]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"null"}
I, [2014-07-03T17:19:34.934087 #9189]  INFO -- : get_get
D, [2014-07-03T17:19:34.934649 #9189] DEBUG -- : Query: #<Mysql2::Result:0x007fd414924088> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T17:19:34.935116 #9189] DEBUG -- : Query: #<Mysql2::Result:0x007fd4149478d0> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='0d4edab0f0b68715c6f9531c8c4302aa1648a62260fffde02a02afc2a400e07d re_portal_prefs_1 1404422374930' LIMIT 1
I, [2014-07-03T17:19:34.935467 #9189]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T17:19:34.935561 #9189]  INFO -- : this is line 31 {:username=>"ABC", :name=>"def", :id=>"null", :client=>"re_portal_prefs_1", :ottoken=>"0d4edab0f0b68715c6f9531c8c4302aa1648a62260fffde02a02afc2a400e07d re_portal_prefs_1 1404422374930", :action=>"get", :controller=>"notification_preferences"}
I, [2014-07-03T17:19:34.943019 #9189]  INFO -- : an error occur in GET #<Stretcher::RequestError::NotFound: Error processing request: (404)! get URL: http://127.0.0.1:9200/keepbusy_user_preferences/user_preference/null
 Resp Body: #<Hashie::Mash _id="null" _index="keepbusy_user_preferences" _type="user_preference" found=false>> /Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/stretcher-1.21.0/lib/stretcher/server.rb:242:in `check_response'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/stretcher-1.21.0/lib/stretcher/server.rb:227:in `block in request'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/stretcher-1.21.0/lib/stretcher/server.rb:225:in `synchronize'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/stretcher-1.21.0/lib/stretcher/server.rb:225:in `request'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/stretcher-1.21.0/lib/stretcher/es_component.rb:31:in `request'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/stretcher-1.21.0/lib/stretcher/index_type.rb:29:in `get'
/Users/joshthedudeoflife/re_prefs_svc/lib/api_models/implementation.rb:73:in `get_from_es'
/Users/joshthedudeoflife/re_prefs_svc/lib/api_models/implementation.rb:37:in `notification_preferences_get_get'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_control.rb:51:in `do_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:205:in `block (5 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:204:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:204:in `block (4 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:199:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:199:in `block (3 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:196:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:196:in `block (2 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:195:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:195:in `block in process_http_request'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/eventmachine-1.0.3/lib/eventmachine.rb:1037:in `call'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/eventmachine-1.0.3/lib/eventmachine.rb:1037:in `block in spawn_threadpool'
I, [2014-07-03T17:19:34.943224 #9189]  INFO -- : Response: 404  
I, [2014-07-03T17:21:35.819324 #9206]  INFO -- : Started running (KeepBusy): Log file: /Users/joshthedudeoflife/re_prefs_svc/log/run.log
I, [2014-07-03T17:21:38.853624 #9206]  INFO -- : Request: controller:notification_preferences action:get method:get
I, [2014-07-03T17:21:38.853784 #9206]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"null"}
I, [2014-07-03T17:21:38.853838 #9206]  INFO -- : get_get
D, [2014-07-03T17:21:38.889217 #9206] DEBUG -- : Query: #<Mysql2::Result:0x007fb69b043b80> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T17:21:38.890427 #9206] DEBUG -- : Query: #<Mysql2::Result:0x007fb69b0402f0> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='5d7f350302feddfdc59bd2880c5579520ab228d370a79a1b78416598968921da re_portal_prefs_1 1404422498783' LIMIT 1
I, [2014-07-03T17:21:38.891515 #9206]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T17:21:38.891618 #9206]  INFO -- : this is line 31 {:username=>"ABC", :name=>"def", :id=>"null", :client=>"re_portal_prefs_1", :ottoken=>"5d7f350302feddfdc59bd2880c5579520ab228d370a79a1b78416598968921da re_portal_prefs_1 1404422498783", :action=>"get", :controller=>"notification_preferences"}
I, [2014-07-03T17:21:38.908741 #9206]  INFO -- : an error occur in GET #<Stretcher::RequestError::NotFound: Error processing request: (404)! get URL: http://127.0.0.1:9200/keepbusy_user_preferences/user_preference/null
 Resp Body: #<Hashie::Mash _id="null" _index="keepbusy_user_preferences" _type="user_preference" found=false>> /Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/stretcher-1.21.0/lib/stretcher/server.rb:242:in `check_response'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/stretcher-1.21.0/lib/stretcher/server.rb:227:in `block in request'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/stretcher-1.21.0/lib/stretcher/server.rb:225:in `synchronize'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/stretcher-1.21.0/lib/stretcher/server.rb:225:in `request'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/stretcher-1.21.0/lib/stretcher/es_component.rb:31:in `request'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/stretcher-1.21.0/lib/stretcher/index_type.rb:29:in `get'
/Users/joshthedudeoflife/re_prefs_svc/lib/api_models/implementation.rb:73:in `get_from_es'
/Users/joshthedudeoflife/re_prefs_svc/lib/api_models/implementation.rb:37:in `notification_preferences_get_get'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_control.rb:51:in `do_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:205:in `block (5 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:204:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:204:in `block (4 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:199:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:199:in `block (3 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:196:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:196:in `block (2 levels) in process_http_request'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:195:in `catch'
/Users/joshthedudeoflife/re_prefs_svc/lib/secure_api/api_server.rb:195:in `block in process_http_request'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/eventmachine-1.0.3/lib/eventmachine.rb:1037:in `call'
/Users/joshthedudeoflife/.rvm/gems/ruby-2.0.0-p353/gems/eventmachine-1.0.3/lib/eventmachine.rb:1037:in `block in spawn_threadpool'
I, [2014-07-03T17:21:38.909068 #9206]  INFO -- : Response: 404  
I, [2014-07-03T17:21:42.269885 #9206]  INFO -- : Request: controller:notification_preferences action:get method:get
I, [2014-07-03T17:21:42.269975 #9206]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg"}
I, [2014-07-03T17:21:42.270026 #9206]  INFO -- : get_get
D, [2014-07-03T17:21:42.272571 #9206] DEBUG -- : Query: #<Mysql2::Result:0x007fb69b84cbd8> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T17:21:42.273492 #9206] DEBUG -- : Query: #<Mysql2::Result:0x007fb69b82a9c0> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='b4e1c6d5c9e0684961755c4632f0247a60fc6dabcc1341791a457844661d3bac re_portal_prefs_1 1404422502267' LIMIT 1
I, [2014-07-03T17:21:42.273945 #9206]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T17:21:42.274041 #9206]  INFO -- : this is line 31 {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :client=>"re_portal_prefs_1", :ottoken=>"b4e1c6d5c9e0684961755c4632f0247a60fc6dabcc1341791a457844661d3bac re_portal_prefs_1 1404422502267", :action=>"get", :controller=>"notification_preferences"}
I, [2014-07-03T17:21:42.279596 #9206]  INFO -- : Response: 200 text/json {:data=>#<Hashie::Mash assetclass=["C"] investments=#<Hashie::Mash maximum="60000" minimum="50001"> states=["Arizona", "Delaware", "Indiana", "New Mexico", "New York", "Vermont", "West Virginia", "Wisconsin", "Wyoming"]>}
I, [2014-07-03T17:21:44.505390 #9206]  INFO -- : Request: controller:notification_preferences action:get method:get
I, [2014-07-03T17:21:44.505510 #9206]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg"}
I, [2014-07-03T17:21:44.505562 #9206]  INFO -- : get_get
D, [2014-07-03T17:21:44.506517 #9206] DEBUG -- : Query: #<Mysql2::Result:0x007fb69b0fb0f0> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T17:21:44.507143 #9206] DEBUG -- : Query: #<Mysql2::Result:0x007fb69b0f8c88> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='b36aab8affd0a6a0ed25353ce1166694fbd700a06dd39578714fdf8d4da3d1ce re_portal_prefs_1 1404422504498' LIMIT 1
I, [2014-07-03T17:21:44.526427 #9206]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T17:21:44.526575 #9206]  INFO -- : this is line 31 {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :client=>"re_portal_prefs_1", :ottoken=>"b36aab8affd0a6a0ed25353ce1166694fbd700a06dd39578714fdf8d4da3d1ce re_portal_prefs_1 1404422504498", :action=>"get", :controller=>"notification_preferences"}
I, [2014-07-03T17:21:44.532798 #9206]  INFO -- : Response: 200 text/json {:data=>#<Hashie::Mash assetclass=["C"] investments=#<Hashie::Mash maximum="60000" minimum="50001"> states=["Arizona", "Delaware", "Indiana", "New Mexico", "New York", "Vermont", "West Virginia", "Wisconsin", "Wyoming"]>}
I, [2014-07-03T17:21:47.463777 #9206]  INFO -- : Request: controller:notification_preferences action:update method:put
I, [2014-07-03T17:21:47.463898 #9206]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :data=>"{\"assetclass\":[\"C\"],\"states\":[\"Arizona\",\"Delaware\",\"District Of Columbia\",\"Indiana\",\"New Mexico\",\"New York\",\"Vermont\",\"West Virginia\",\"Wisconsin\",\"Wyoming\"],\"investments\":{\"minimum\":\"50001\",\"maximum\":\"60000\"}}"}
I, [2014-07-03T17:21:47.463949 #9206]  INFO -- : update_put
D, [2014-07-03T17:21:47.464485 #9206] DEBUG -- : Query: #<Mysql2::Result:0x007fb69b841ee0> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T17:21:47.465021 #9206] DEBUG -- : Query: #<Mysql2::Result:0x007fb69b8840b0> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='6f8de0be91dc3636185ed5daa90a805b5c66f20897a8d0753c388192ef2ed096 re_portal_prefs_1 1404422507460' LIMIT 1
I, [2014-07-03T17:21:47.465303 #9206]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T17:21:47.465356 #9206]  INFO -- : 0DkvQ4w6TCOaqHGRJyEOqg
I, [2014-07-03T17:21:47.473170 #9206]  INFO -- : {"assetclass"=>["C"], "states"=>["Arizona", "Delaware", "District Of Columbia", "Indiana", "New Mexico", "New York", "Vermont", "West Virginia", "Wisconsin", "Wyoming"], "investments"=>{"minimum"=>"50001", "maximum"=>"60000"}}
I, [2014-07-03T17:21:47.473407 #9206]  INFO -- : Response: 200 text/json {:data=>{"assetclass"=>["C"], "states"=>["Arizona", "Delaware", "District Of Columbia", "Indiana", "New Mexico", "New York", "Vermont", "West Virginia", "Wisconsin", "Wyoming"], "investments"=>{"minimum"=>"50001", "maximum"=>"60000"}}, :id=>"0DkvQ4w6TCOaqHGRJyEOqg"}
I, [2014-07-03T17:21:48.582504 #9206]  INFO -- : Request: controller:notification_preferences action:get method:get
I, [2014-07-03T17:21:48.582614 #9206]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg"}
I, [2014-07-03T17:21:48.582664 #9206]  INFO -- : get_get
D, [2014-07-03T17:21:48.583517 #9206] DEBUG -- : Query: #<Mysql2::Result:0x007fb69b128758> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T17:21:48.584073 #9206] DEBUG -- : Query: #<Mysql2::Result:0x007fb69b14b3e8> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='281d7df02e60a67b1748551d9535dac4d6df78c825e250fde195c8ab37c32c9c re_portal_prefs_1 1404422508573' LIMIT 1
I, [2014-07-03T17:21:48.584411 #9206]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T17:21:48.584499 #9206]  INFO -- : this is line 31 {:username=>"ABC", :name=>"def", :id=>"0DkvQ4w6TCOaqHGRJyEOqg", :client=>"re_portal_prefs_1", :ottoken=>"281d7df02e60a67b1748551d9535dac4d6df78c825e250fde195c8ab37c32c9c re_portal_prefs_1 1404422508573", :action=>"get", :controller=>"notification_preferences"}
I, [2014-07-03T17:21:48.606349 #9206]  INFO -- : Response: 200 text/json {:data=>#<Hashie::Mash assetclass=["C"] investments=#<Hashie::Mash maximum="60000" minimum="50001"> states=["Arizona", "Delaware", "District Of Columbia", "Indiana", "New Mexico", "New York", "Vermont", "West Virginia", "Wisconsin", "Wyoming"]>}
I, [2014-07-03T17:23:30.616576 #9223]  INFO -- : Started running (KeepBusy): Log file: /Users/joshthedudeoflife/re_prefs_svc/log/run.log
I, [2014-07-03T17:23:51.256716 #9223]  INFO -- : Request: controller:notification_preferences action:create method:post
I, [2014-07-03T17:23:51.257347 #9223]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :data=>"{\"assetclass\":[\"C\"],\"states\":[\"Delaware\",\"Illinois\",\"Maine\"],\"investments\":{\"minimum\":\"50001\",\"maximum\":\"60000\"}}"}
I, [2014-07-03T17:23:51.257409 #9223]  INFO -- : create_post
D, [2014-07-03T17:23:51.270322 #9223] DEBUG -- : Query: #<Mysql2::Result:0x007f953384bd70> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T17:23:51.271025 #9223] DEBUG -- : Query: #<Mysql2::Result:0x007f9533868b00> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='8696a9c1c005d2ddf97db1f41d753aea3984bbaad6d6e16f2c79b76b03541f48 re_portal_prefs_1 1404422631215' LIMIT 1
I, [2014-07-03T17:23:51.271342 #9223]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T17:23:51.271400 #9223]  INFO -- : HELLLLLLLLOOOOOO
I, [2014-07-03T17:23:51.271493 #9223]  INFO -- : ES_INDEX CHECK
I, [2014-07-03T17:23:51.283134 #9223]  INFO -- : Response: 200 text/json {:data=>{"assetclass"=>["C"], "states"=>["Delaware", "Illinois", "Maine"], "investments"=>{"minimum"=>"50001", "maximum"=>"60000"}}, :id=>"42OkqurTQH6FPDWcIL18dw"}
I, [2014-07-03T17:23:52.180832 #9223]  INFO -- : Request: controller:notification_preferences action:get method:get
I, [2014-07-03T17:23:52.180948 #9223]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"42OkqurTQH6FPDWcIL18dw"}
I, [2014-07-03T17:23:52.181002 #9223]  INFO -- : get_get
D, [2014-07-03T17:23:52.182491 #9223] DEBUG -- : Query: #<Mysql2::Result:0x007f953393db70> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T17:23:52.185117 #9223] DEBUG -- : Query: #<Mysql2::Result:0x007f9533947a08> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='f5809a3e972e4e94d6b8bdab4c20150115c0faa62c1ffa1c6a48e80fdfa5b39c re_portal_prefs_1 1404422632174' LIMIT 1
I, [2014-07-03T17:23:52.185537 #9223]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T17:23:52.185642 #9223]  INFO -- : this is line 31 {:username=>"ABC", :name=>"def", :id=>"42OkqurTQH6FPDWcIL18dw", :client=>"re_portal_prefs_1", :ottoken=>"f5809a3e972e4e94d6b8bdab4c20150115c0faa62c1ffa1c6a48e80fdfa5b39c re_portal_prefs_1 1404422632174", :action=>"get", :controller=>"notification_preferences"}
I, [2014-07-03T17:23:52.189750 #9223]  INFO -- : Response: 200 text/json {:data=>#<Hashie::Mash assetclass=["C"] investments=#<Hashie::Mash maximum="60000" minimum="50001"> states=["Delaware", "Illinois", "Maine"]>}
I, [2014-07-03T17:23:55.761835 #9223]  INFO -- : Request: controller:notification_preferences action:update method:put
I, [2014-07-03T17:23:55.761943 #9223]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"42OkqurTQH6FPDWcIL18dw", :data=>"{\"assetclass\":[\"C\"],\"states\":[\"Delaware\",\"Illinois\",\"Maine\",\"Pennsylvania\"],\"investments\":{\"minimum\":\"50001\",\"maximum\":\"60000\"}}"}
I, [2014-07-03T17:23:55.761996 #9223]  INFO -- : update_put
D, [2014-07-03T17:23:55.762573 #9223] DEBUG -- : Query: #<Mysql2::Result:0x007f953397fc28> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T17:23:55.763064 #9223] DEBUG -- : Query: #<Mysql2::Result:0x007f953398dc38> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='c4abc1fd5f84c038a555d6929c61cb57559c83838a61c9be020d90b26e221f89 re_portal_prefs_1 1404422635756' LIMIT 1
I, [2014-07-03T17:23:55.763351 #9223]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T17:23:55.763406 #9223]  INFO -- : 42OkqurTQH6FPDWcIL18dw
I, [2014-07-03T17:23:55.771177 #9223]  INFO -- : {"assetclass"=>["C"], "states"=>["Delaware", "Illinois", "Maine", "Pennsylvania"], "investments"=>{"minimum"=>"50001", "maximum"=>"60000"}}
I, [2014-07-03T17:23:55.772126 #9223]  INFO -- : Response: 200 text/json {:data=>{"assetclass"=>["C"], "states"=>["Delaware", "Illinois", "Maine", "Pennsylvania"], "investments"=>{"minimum"=>"50001", "maximum"=>"60000"}}, :id=>"42OkqurTQH6FPDWcIL18dw"}
I, [2014-07-03T17:23:56.442344 #9223]  INFO -- : Request: controller:notification_preferences action:get method:get
I, [2014-07-03T17:23:56.442445 #9223]  INFO -- : Parameters: {:username=>"ABC", :name=>"def", :id=>"42OkqurTQH6FPDWcIL18dw"}
I, [2014-07-03T17:23:56.442495 #9223]  INFO -- : get_get
D, [2014-07-03T17:23:56.443053 #9223] DEBUG -- : Query: #<Mysql2::Result:0x007f9533921f38> && 0 for SQL:
SELECT shared_secret FROM clients WHERE name='re_portal_prefs_1' LIMIT 1
D, [2014-07-03T17:23:56.443472 #9223] DEBUG -- : Query: #<Mysql2::Result:0x007f95339204f8> && 0 for SQL:
SELECT ottoken FROM request_log WHERE ottoken='fe878153da5f626712f747cd59036c9880548f77409cf9f7dfe09a9f23153760 re_portal_prefs_1 1404422636439' LIMIT 1
I, [2014-07-03T17:23:56.443779 #9223]  INFO -- : SQL Connection error unknown: 1406 / Data too long for column 'ottoken' at row 1 == #<Mysql2::Error: Data too long for column 'ottoken' at row 1>
I, [2014-07-03T17:23:56.443859 #9223]  INFO -- : this is line 31 {:username=>"ABC", :name=>"def", :id=>"42OkqurTQH6FPDWcIL18dw", :client=>"re_portal_prefs_1", :ottoken=>"fe878153da5f626712f747cd59036c9880548f77409cf9f7dfe09a9f23153760 re_portal_prefs_1 1404422636439", :action=>"get", :controller=>"notification_preferences"}
I, [2014-07-03T17:23:56.449084 #9223]  INFO -- : Response: 200 text/json {:data=>#<Hashie::Mash assetclass=["C"] investments=#<Hashie::Mash maximum="60000" minimum="50001"> states=["Delaware", "Illinois", "Maine", "Pennsylvania"]>}
